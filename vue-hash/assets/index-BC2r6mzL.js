import{d as Z,r as X,I as at,o as J,e as Q,f as N,p as lt,q as ct,_ as nt,h as Ft,P as Kt,O as Xt,g as tt}from"./index-e5pysWWB.js";import{g as gt,e as vt,z as Ut,W as xt,i as Dt,T as _t,v as wt,d as et,a as L,A as $t,S as Lt,M as rt,n as q,E as qt,l as Y,H as At,s as Yt,B as bt,b as it,t as Zt,I as Vt,J as zt,N as Jt,Q as W,V as _,U as Pt,C as G,o as Ht,m as Qt,X as te,c as Gt,P as ee,Y as re,Z as j,_ as ie,O as oe,$ as Bt,a0 as ht,a1 as ae,a2 as ne,f as se,a3 as le,a4 as ce,a5 as ue,j as Et,y as he}from"./OrbitControls-BFpgcgwR.js";const pe=e=>(lt("data-v-29b24291"),e=e(),ct(),e),de={class:"chapter-item"},fe=pe(()=>N("h2",null,"Session 3",-1)),me=.1,pt=400,dt=400,ye=180,ge=Z({__name:"chapter-03",setup(e){let t=50,r=10;const i=Math.PI*2;let a=0,o=0;const n=X(null),l=X(null),u=X(null);let c,m;at(()=>{y(),d(),h(),f()});function y(){var v,x;n.value&&(n.value.width=pt,n.value.height=dt),l.value&&(l.value.width=pt,l.value.height=dt),c=(v=n.value)==null?void 0:v.getContext("2d"),m=(x=l.value)==null?void 0:x.getContext("2d")}function d(){c.beginPath();const v=200*Math.sin(Math.PI/3)+100;c.moveTo(200,100),c.lineTo(100,v),c.lineTo(300,v);const x=c.createLinearGradient(200,100,200,v);x.addColorStop(0,"#3DD1F2"),x.addColorStop(1,"#EF2233"),c.fillStyle=x,c.fill()}function h(){const x=i/1e3,w=200;c.beginPath();for(let O=0;O<1e3;O++){c.strokeStyle=`rgb(${Math.random()*256}, ${Math.random()*256}, ${Math.random()*256})`,c.lineWidth=4;const B=Math.sin(x*O*(t/50))*Math.cos(x*O*(r/50))*w,k=Math.sin(x*O*(t/50))*Math.sin(x*O*(r/50))*w;c.lineTo(B+w,k+w)}c.stroke(),c.closePath()}function p(v){t=v.clientX,r=v.clientY,c.clearRect(0,0,pt,dt),d(),h()}function f(){var x;o=(o+me)%(Math.PI*64);const v=(x=u==null?void 0:u.value)==null?void 0:x.value;a=Math.min(v,1)*ye,m.clearRect(0,0,pt,dt),g(-2,"rgba(0,155,155,0.1)"),g(-6,"rgba(25,255,55,0.2)"),g(6,"rgba(22,213,155,0.4)"),g(2,"rgba(35,255,155,0.6)"),g(1,"rgba(144,121,44,1)",1.5),requestAnimationFrame(f)}function g(v,x,w=1){m.moveTo(0,0),m.beginPath(),m.strokeStyle=x,m.lineWidth=w||1;let O,B;const k=2,M=4;for(let U=-k;U<=k;U+=.01){const A=Math.pow(k*4/(k*4+Math.pow(U,4)),k*2);O=pt*(U+k)/(k*2),B=dt/2+a*A*(1/v)*Math.sin(M*U-o),m.lineTo(O,B)}m.stroke()}return(v,x)=>(J(),Q("div",de,[fe,N("canvas",{ref_key:"canvas1Ref",ref:n,onMousemove:p},null,544),N("input",{type:"range",value:"0.2",ref_key:"rangeRef",ref:u,min:"0",max:"1",step:"0.01"},null,512),N("canvas",{ref_key:"canvas2Ref",ref:l},null,512)]))}}),ve=nt(ge,[["__scopeId","data-v-29b24291"]]),Nt=e=>(lt("data-v-b7e463d0"),e=e(),ct(),e),xe={class:"chapter-item"},_e=Nt(()=>N("h2",null,"Session 4",-1)),we={class:"box"},Ae=Nt(()=>N("h4",null,"Before",-1)),be=["src"],Ce=Nt(()=>N("h4",null,"After 通过滚轮来改变效果程度",-1)),Ee=Z({__name:"chapter-04",setup(e){const t=X(null),r="/vue-hash";at(()=>{c()});let i=256;function a(d){d.preventDefault(),d.deltaY>0?i=Math.min(256,i+50):i=Math.max(1,i-50),m()}let o=null,n=null,l=0,u=0;function c(){const d=new Image;d.src=r+"/micro-vue-static/lab-static/images/graph-london/render-test.jpg",d.onload=()=>{var h;o=(h=t.value)==null?void 0:h.getContext("2d",{willReadFrequently:!0}),l=d.width,u=d.height,o&&(o.drawImage(d,0,0),n=o.getImageData(0,0,l,u).data,m())}}function m(){const d=[.0925,.225,.0925,.225,.15,.225,.0925,.225,.0925],h=[0,0,0,0,1,0,0,0,0],p=o.getImageData(0,0,l,u);for(let f=0;f<u;f++)for(let g=0;g<l;g++){const v=(l*f+g)*4+0,x=(l*f+g)*4+1,w=(l*f+g)*4+2,O=(l*f+g)*4+3;n[v]%255<i?(p.data[v]=y(d,f,g,0),p.data[x]=y(d,f,g,1),p.data[w]=y(d,f,g,2),p.data[O]=255):(p.data[v]=y(h,f,g,0),p.data[x]=y(h,f,g,1),p.data[w]=y(h,f,g,2),p.data[O]=255)}o.putImageData(p,0,0)}function y(d,h,p,f){return d[0]*n[(l*h-1+p-1)*4+f]+d[1]*n[(l*h-1+p)*4+f]+d[2]*n[(l*h-1+p+1)*4+f]+d[3]*n[(l*h+p-1)*4+f]+d[4]*n[(l*h+p)*4+f]+d[5]*n[(l*h+p+1)*4+f]+d[6]*n[(l*h+1+p-1)*4+f]+d[7]*n[(l*h+1+p)*4+f]+d[8]*n[(l*h+1+p+1)*4+f]}return(d,h)=>(J(),Q("div",xe,[_e,N("div",we,[Ae,N("img",{src:`${Ft(r)}/micro-vue-static/lab-static/images/graph-london/render-test.jpg`,alt:""},null,8,be)]),N("div",{class:"box",onWheel:a},[Ce,N("canvas",{ref_key:"renderCanvas",ref:t,width:"400",height:"284"},null,512)],32)]))}}),Te=nt(Ee,[["__scopeId","data-v-b7e463d0"]]),Rt=400,It=400,ft=100,Tt=360/10;class Me{constructor(t,r,i,a){this.x=t,this.y=r,this.z=i,this.r=a,this.canvasW=2*a}paint(t,r,i,a){t.save(),t.beginPath();const o=(this.z*r+ft)/(2*ft);t.arc(i+this.x*r,a+this.y*r,this.r*r,0,2*Math.PI,!0),t.fillStyle="rgba(0,255,255,"+(o+.5)+")",t.fill(),t.restore()}}class kt{constructor(t,r){const i=Math.sqrt(Math.pow(ft,2)-Math.pow(ft*Math.cos(t*Math.PI*2/Tt),2));this.radius=i,this.x=0,this.y=0,this.up=r;const a=[];for(let o=0;o<Tt;o++){const n=2*Math.PI/Tt*o,l=new Me(i*Math.cos(n),i*Math.sin(n),this.up*Math.sqrt(Math.pow(ft,2)-Math.pow(i,2)),1.5);a.push(l)}this.balls=a}}class Se{constructor(){this.orbitRadius=mt(Oe(Rt,It)),this.radius=mt(200,this.orbitRadius)/8,this.orbitX=Rt/2,this.orbitY=It/2,this.timePassed=mt(0,1e3),this.speed=mt(this.orbitRadius)/5e4}draw(t,r){const i=Math.sin(this.timePassed)*this.orbitRadius+this.orbitX,a=Math.cos(this.timePassed)*this.orbitRadius+this.orbitY;t.drawImage(r,i-this.radius/2,a-this.radius/2,this.radius,this.radius),this.timePassed+=this.speed}}function Oe(e,t){const i=Math.max(e,t);return Math.round(Math.sqrt(i*i+i*i))/2}function mt(e,t){if(arguments.length<2&&(t=e,e=0),e>t){const r=t;t=e,e=r}return Math.floor(Math.random()*(t-e+1))+e}class Pe{constructor(t){this.listSize=t,this.starList=[]}initialStars(t){for(let r=0;r<t;r++){const i=new Se;this.starList.push(i)}}stars(){return this.starList.length===0&&this.initialStars(this.listSize),this.starList}}class Re{constructor(t){this.listSize=t,this.ballList=[]}initialBalls(t){const r=t;for(let i=0;i<=r;i++){const a=new kt(i,1);this.ballList.push(...a.balls);const o=new kt(i,-1);this.ballList.push(...o.balls)}}balls(){return this.ballList.length===0&&this.initialBalls(this.listSize),this.ballList}}const Ie=e=>(lt("data-v-14460b4d"),e=e(),ct(),e),Le=Ie(()=>N("h2",null,"Session 5",-1)),ze=Z({__name:"chapter-05",setup(e){at(()=>{o(),U()});const t=X(null);let r,i,a;function o(){t.value&&(t.value.setAttribute("width",Rt),t.value.setAttribute("height",It),r=t.value.getContext("2d"),i=t.value.width/2,a=t.value.height/2)}let n=0,l=0,u=5,c=1,m=1;function y(A){A.preventDefault(),A.deltaY>0?m=Math.min(u,m+.1):m=Math.max(c,m-.1)}function d(){n=0,l=0}function h(A){A.preventDefault();const P=(A.offsetX-i)/i,b=(A.offsetY-a)/a,F=Math.PI*P,$=Math.PI*b;l=-F*.01,n=-$*.01}function p(){const A=Math.cos(n),P=Math.sin(n);for(let b=0;b<M.length;b++){const F=M[b].y*A-M[b].z*P,$=M[b].z*A+M[b].y*P;M[b].y=F,M[b].z=$}}function f(){const A=Math.cos(l),P=Math.sin(l);for(let b=0;b<M.length;b++){const F=M[b].x*A-M[b].z*P,$=M[b].z*A+M[b].x*P;M[b].x=F,M[b].z=$}}function g(){const A=Math.cos(l),P=Math.sin(l);for(let b=0;b<M.length;b++){const F=M[b].x*A-M[b].y*P,$=M[b].y*A+M[b].x*P;M[b].x=F,M[b].y=$}}function v(){const A=document.createElement("canvas"),P=A.getContext("2d");A.width=20,A.height=20;const b=A.width/2,F=P.createRadialGradient(b,b,0,b,b,b);return F.addColorStop(.065,"#CCC"),F.addColorStop(.1,"hsl(230, 61%, 33%)"),F.addColorStop(.25,"hsl(230, 64%, 6%)"),F.addColorStop(1,"transparent"),P.fillStyle=F,P.beginPath(),P.arc(b,b,b,0,Math.PI*2),P.fill(),A}function x(){p(),f(),g()}const w=v(),B=new Pe(500).stars(),M=new Re(12).balls();function U(){if(!(!r||!t.value)){r.clearRect(0,0,t.value.width,t.value.height);for(let A=1,P=B.length;A<P;A++)B[A].draw(r,w);x();for(let A=0;A<M.length;A++)M[A].paint(r,m,i,a);requestAnimationFrame(U)}}return(A,P)=>(J(),Q("div",{class:"chapter-item",onWheel:y,onMousemove:h,onMouseout:d},[Le,N("canvas",{ref_key:"renderCanvas",ref:t},null,512)],32))}}),Ne=nt(ze,[["__scopeId","data-v-14460b4d"]]),Be=e=>(lt("data-v-0cc5bece"),e=e(),ct(),e),ke={class:"chapter-item"},Fe=Be(()=>N("h2",null,"Session 6",-1)),Ue=Z({__name:"chapter-06",setup(e){const t="/vue-hash",r=X(null);let i=null,a=null,o=null,n=null,l=null,u=null,c=null;function m(){i=new gt(70,400/300,1,1e3),a=new vt,n=new Ut("rgb(255,255,255)"),o=new xt,l=new Dt(i,o.domElement)}function y(){i.position.x=10,i.position.y=10,i.position.z=10,n.position.set(0,2,2),a.add(n);const p=new _t;o.shadowMap.enabled=!0;const f=new wt(10,20,1,1),g=new et({color:16777215}),v=new L(f,g);v.receiveShadow=!0,v.position.x=0,v.position.y=0,v.position.z=0,v.rotation.x=-.5*Math.PI,a.add(v);const x=new $t(789516);a.add(x);const w=new Lt(1,20,20),O=p.load(t+"/micro-vue-static/lab-static/images/graph-london/sky.jpg"),B=new rt({map:O});c=new L(w,B),c.position.x=4,c.position.y=0,c.position.z=2,c.castShadow=!0,a.add(c);const k=new q(1,1,1),M=p.load(t+"/micro-vue-static/lab-static/images/webgl-practice/sy.jpg"),U=new rt({map:M});u=new L(k,U),u.castShadow=!0,u.position.x=-2,u.position.y=3,u.position.z=1,a.add(u);const A=new qt(16777215);A.position.set(0,6,2),A.castShadow=!0,a.add(A),o.setPixelRatio(window.devicePixelRatio),o.setSize(400,300),Ft(r).appendChild(o.domElement)}let d=0;function h(){u.rotation.x+=.02,u.rotation.y+=.02,u.rotation.z+=.02,d+=.04,c.position.x=1+Math.cos(d),c.position.y=2+Math.abs(Math.sin(d)),l.update(),o.render(a,i),requestAnimationFrame(h)}return at(()=>{m(),y(),requestAnimationFrame(h)}),(p,f)=>(J(),Q("div",ke,[Fe,N("div",{ref_key:"canvasRef",ref:r},null,512)]))}}),De=nt(Ue,[["__scopeId","data-v-0cc5bece"]]),Ve=e=>(lt("data-v-aae36154"),e=e(),ct(),e),He=Ve(()=>N("h2",null,"Session 7",-1)),Ge=[He],Mt=400,St=400,We=1,je=Z({__name:"chapter-07",setup(e){at(()=>{n(),l()});let t,r,i,a;const o=X(null);function n(){var h;t=new gt(75,Mt/St,.1,1e3),t.position.z=1,r=new vt;const m=new wt(2,2);a={time:{type:"f",value:1},resolution:{type:"v2",value:new Y(Mt*window.devicePixelRatio,St*window.devicePixelRatio)},mouse:{type:"v2",value:new Y}};const y=new At({uniforms:a,vertexShader:"void main(){gl_Position=vec4(position,1.);}",fragmentShader:`
      // 精度定义
      precision mediump float;
      // 参数接收
      uniform vec2 resolution;
      uniform vec2 mouse;
      uniform float time;
      // taskA: 尝试通过使用时间统一和数学函数来修改片段着色器的颜色
      vec3 highlight(vec2 coord) {
        // 相当于x的取值范围是0-屏幕宽度
        float coordX = mod(time*100.0, resolution.x);
        // 计算屏幕中心
        float cx = resolution.x / 2.0;
        float cy = resolution.y / 2.0;
        float a = 2.0;
        // 计算高亮的区域
        if(coord.x > coordX && coord.x < coordX + 20.0) {
          a = 1.0;
        }
        vec3 c = vec3(1.0,1.0,1.0);
        // 根据所属屏幕区域设置颜色
        if(coord.x<cx && coord.y<cy) {
          c = vec3(0.4,0.8,0.066);
        }
        if(coord.x<cx && coord.y>cy) {
          c = vec3(0.79,0.199,0.199);
        }
        if(coord.x>cx && coord.y<cy) {
          c = vec3(0,0.59,0.39);
        }
        if(coord.x>cx && coord.y>cy) {
          c = vec3(0.79,0.79,0.59);
        }
        return c / a;
      }
      // 鼠标指向圆形的半径
      float radius = 30.0;
      void main(){
        // 这个片元应该呈现的颜色
        vec3 colour=highlight(gl_FragCoord.xy);
        // 计算鼠标指向的坐标，即圆心
        float x = mouse.x;
        float y = resolution.y - mouse.y;
        // 圆心向量
        vec2 pos=vec2(x,y);
        // 计算片元距离圆心的距离
        float d=distance(gl_FragCoord.xy,pos);
        if(d<=radius + 5.0) {
          // 将背景色作为圆形的颜色
          vec3 circleColor = highlight(pos.xy);
          gl_FragColor = vec4(circleColor / .5, 1);
        }else{
          gl_FragColor=vec4(colour, 1.0);
        }
      }
    `}),d=new L(m,y);r.add(d),i=new xt,i.setPixelRatio(window.devicePixelRatio/We),i.setSize(Mt,St),(h=o.value)==null||h.appendChild(i.domElement)}function l(){c(),requestAnimationFrame(l)}function u(m){a.mouse.value.x=m.offsetX*window.devicePixelRatio,a.mouse.value.y=m.offsetY*window.devicePixelRatio}function c(){a.time.value+=.01,i.render(r,t)}return(m,y)=>(J(),Q("div",{class:"chapter-item",ref_key:"session7Ref",ref:o,onMousemove:u},Ge,544))}}),Ke=nt(je,[["__scopeId","data-v-aae36154"]]),Xe=N("h2",null,"Session 8",-1),$e=[Xe],qe=`
  // 设置为高精度运算
  precision highp float;
  // 法向量
  varying vec3 myNormal;
  varying vec4 myPosition;
  // 位置坐标
  vec3 newPosition;
  // 鼠标位置信息
  uniform highp vec2 mouse;
  // 运行时间信息
  uniform highp float time;
  varying vec4 v_Position;
  varying vec4 v_Normal;
  // 定义π
  #define M_PI 3.14159265358979323846

  // 生成伪随机数，对应高度值
  float rand2d(vec2 pos){
    return sin(sin(dot(pos*123.,vec2(1000.0)))*1000000.0);
  }
  // 点元着色器主函数
  void main(){
    // taskA: 创建一个平移，使地平面在地面上——它目前在空中！
    // 将平面顺时针旋转1.2，大概69度。
    // 将这个值改成90度即可完成。
    // 角度弧度互转网站http://www.ab126.com/geometric/10631.html
    float angle=-1.57;
    // 绕X渲染的模型矩阵
    mat4 rotateX=mat4(1,0,0,0,0,cos(angle),sin(angle),0,0,-sin(angle),cos(angle),0,0,0,0,1);
    myNormal=normal;
    // 根据xy生成z的值，即高度
    float displaceZ=rand2d(position.xy);
    vec3 newPosition=position;
    // 改变z值
    newPosition.z=newPosition.z+(displaceZ*.01);
    // 乘以旋转矩阵
    vec4 rotatedPos=rotateX*vec4(newPosition,1.);
    // 获取旋转之后的法向量
    myNormal=normalize(rotatedPos.xyz*1.2);
    // 乘以视图矩阵和模型矩阵计算出新的位置坐标
    vec4 vertexPosition = projectionMatrix*modelViewMatrix*vec4(rotatedPos.xyz,.5);
    myPosition = vertexPosition;
    // 乘以视图矩阵和模型矩阵
    gl_Position= vertexPosition;
  }
`,Ye=`
  precision highp float;
  // 记录鼠标位置和时间的uniform变量
  uniform vec2 mouse;
  uniform float time;
  varying vec3 myNormal;
  varying vec4 myPosition;
  uniform vec2 resolution;
  // 柏林噪声算法
  float r(vec2 n)
  {
      return fract(cos(dot(n,vec2(36.26,73.12)))*354.63);
  }
  // 噪声函数
  float noise(vec2 n)
  {
      vec2 fn = floor(n);
      vec2 sn = smoothstep(vec2(0),vec2(1),fract(n));
      float h1 = mix(r(fn),r(fn+vec2(1,0)),sn.x);
      float h2 = mix(r(fn+vec2(0,1)),r(fn+vec2(1)),sn.x);
      return mix(h1,h2,sn.y);
  }
  // Mandelbrot 着色器
  float Mandelbrot(vec2 n) {
    vec2 c=(n-resolution/2.)/resolution.x*4.*(-.25*mouse.x)+(1.-mouse.y);
    float colour=0.;
    vec2 z=vec2(0.);

    for(int i=0;i<200;i++){
      colour++;
      if(dot(z,z)>2.){break;}
      z=vec2(z.x*z.x-z.y*z.y,2.*z.x*z.y)+c;
    }
    return colour/100.0;
  }

  float perlin(vec2 n) {
      return noise(n/32.)*0.5875+noise(n/16.)/5.+noise(n/8.)/10.+noise(n/4.)/20.+noise(n/2.)/40.+noise(n)/80.;
  }
  // taskB-1: 修改地形生成器函数（随机函数），制作更有趣的地形
  // 在地形上叠加了Mandelbrot算法生成的颜色
  // 新增了一个点光源，红色
  void main(){
    // 此处可以切换看不同的效果
    // 柏林噪声效果
    // vec4 color = vec4(vec3(perlin(gl_FragCoord.xy)),1.0);
    // 单色效果
    // vec4 color = vec4(1.0,1.0,1.0,1.0);
    // Mandelbrot效果
    vec4 color = vec4(vec3(Mandelbrot(gl_FragCoord.xy)),1.0);
    // 环境光
    vec3 AmbientLight = vec3(0.2, 0.2, 0.2);
    vec3 light1 = AmbientLight * color.rgb;
    // taskB-2: 您可能需要移动灯光。您可能还需要更多灯。你能做这个吗？
    // 此处增加了一个青色的点光源
    // 点光源
    vec3 dotPosition = vec3(-0.1, 0.1, 0.5);
    vec3 dotColor = vec3(0.0, 0.6, 0.4);
    // 计算点光源和点的方向向量
    vec3 lightDirection = normalize(dotPosition - vec3(myPosition));
    float nDot2 = max(dot(myNormal,lightDirection ), 0.0);
    vec3 light2 = dotColor * color.rgb * nDot2;
    // 平行光源
    vec3 light=vec3(-0.1,-0.1,-0.1);
    light=normalize(light);
    // 计算光的分量
    float nDot=max(0.,dot(myNormal,light));
    vec3 light3 = color.rgb*nDot;
    // 平行光再加上0.25的环境光
    gl_FragColor=vec4(light1 + light2 + light3, color.a);
  }
`,Ze=1,Je=Z({__name:"chapter-08",setup(e){const t=X(null);let r,i,a,o;function n(){var g;r=new gt(70,400/400,.1,1e3),r.position.x=0,r.position.y=.4,r.position.z=.4,r.lookAt(0,0,0),i=new vt,l();const y=new wt(1,1,100,100),d=new Lt(.05,100,100);o={time:{type:"f",value:1},resolution:{type:"v2",value:new Y},mouse:{type:"v2",value:new Y}};const h=new At({uniforms:o,vertexShader:qe,fragmentShader:Ye}),p=new L(y,h),f=new L(d,h);i.add(p),i.add(f),a=new xt,a.setPixelRatio(window.devicePixelRatio/Ze),a.setSize(400,400),(g=t.value)==null||g.appendChild(a.domElement)}function l(){const y=u({x:0,y:0,z:0},{x:100,y:0,z:0},16738740),d=u({x:0,y:0,z:0},{x:0,y:100,z:0},64154),h=u({x:0,y:0,z:0},{x:0,y:0,z:100},3329330);i.add(y),i.add(d),i.add(h)}function u(y,d,h){const p=new Yt({color:h}),f=new bt,g=new Float32Array([y.x,y.y,y.z,d.x,d.y,d.z]);return f.setAttribute("position",new it(g,3)),new Zt(f,p)}function c(){requestAnimationFrame(c),m()}function m(){o.time.value+=.01,a.render(i,r)}return at(()=>{n(),c()}),(y,d)=>(J(),Q("div",{class:"chapter-item",ref_key:"session8Ref",ref:t},$e,512))}});var Wt={exports:{}};(function(e,t){(function(r,i){e.exports=i()})(Kt,function(){var r=function(){function i(h){return n.appendChild(h.dom),h}function a(h){for(var p=0;p<n.children.length;p++)n.children[p].style.display=p===h?"block":"none";o=h}var o=0,n=document.createElement("div");n.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",n.addEventListener("click",function(h){h.preventDefault(),a(++o%n.children.length)},!1);var l=(performance||Date).now(),u=l,c=0,m=i(new r.Panel("FPS","#0ff","#002")),y=i(new r.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var d=i(new r.Panel("MB","#f08","#201"));return a(0),{REVISION:16,dom:n,addPanel:i,showPanel:a,begin:function(){l=(performance||Date).now()},end:function(){c++;var h=(performance||Date).now();if(y.update(h-l,200),h>u+1e3&&(m.update(1e3*c/(h-u),100),u=h,c=0,d)){var p=performance.memory;d.update(p.usedJSHeapSize/1048576,p.jsHeapSizeLimit/1048576)}return h},update:function(){l=this.end()},domElement:n,setMode:a}};return r.Panel=function(i,a,o){var n=1/0,l=0,u=Math.round,c=u(window.devicePixelRatio||1),m=80*c,y=48*c,d=3*c,h=2*c,p=3*c,f=15*c,g=74*c,v=30*c,x=document.createElement("canvas");x.width=m,x.height=y,x.style.cssText="width:80px;height:48px";var w=x.getContext("2d");return w.font="bold "+9*c+"px Helvetica,Arial,sans-serif",w.textBaseline="top",w.fillStyle=o,w.fillRect(0,0,m,y),w.fillStyle=a,w.fillText(i,d,h),w.fillRect(p,f,g,v),w.fillStyle=o,w.globalAlpha=.9,w.fillRect(p,f,g,v),{dom:x,update:function(O,B){n=Math.min(n,O),l=Math.max(l,O),w.fillStyle=o,w.globalAlpha=1,w.fillRect(0,0,m,f),w.fillStyle=a,w.fillText(u(O)+" "+i+" ("+u(n)+"-"+u(l)+")",d,h),w.drawImage(x,p+c,f,g-c,v,p,f,g-c,v),w.fillRect(p+g-c,f,c,v),w.fillStyle=o,w.globalAlpha=.9,w.fillRect(p+g-c,f,c,u((1-O/B)*v))}}},r})})(Wt);var Qe=Wt.exports;const tr=Xt(Qe),s={distributions:{BOX:1,SPHERE:2,DISC:3,LINE:4},valueOverLifetimeLength:4};typeof define=="function"&&define.amd?define("spe",s):typeof exports<"u"&&typeof module<"u"&&(module.exports=s);s.TypedArrayHelper=function(e,t,r,i){this.componentSize=r||1,this.size=t||1,this.TypedArrayConstructor=e||Float32Array,this.array=new e(t*this.componentSize),this.indexOffset=i||0};s.TypedArrayHelper.constructor=s.TypedArrayHelper;s.TypedArrayHelper.prototype.setSize=function(e,t){const r=this.array.length;if(t||(e=e*this.componentSize),e<r)return this.shrink(e);if(e>r)return this.grow(e);console.info("TypedArray is already of size:",e+".","Will not resize.")};s.TypedArrayHelper.prototype.shrink=function(e){return this.array=this.array.subarray(0,e),this.size=e,this};s.TypedArrayHelper.prototype.grow=function(e){var t=this.array,r=new this.TypedArrayConstructor(e);return r.set(t),this.array=r,this.size=e,this};s.TypedArrayHelper.prototype.splice=function(e,t){e*=this.componentSize,t*=this.componentSize;for(var r=[],i=this.array,a=i.length,o=0;o<a;++o)(o<e||o>=t)&&r.push(i[o]);return this.setFromArray(0,r),this};s.TypedArrayHelper.prototype.setFromArray=function(e,t){var r=t.length,i=e+r;return i>this.array.length?this.grow(i):i<this.array.length&&this.shrink(i),this.array.set(t,this.indexOffset+e),this};s.TypedArrayHelper.prototype.setVec2=function(e,t){return this.setVec2Components(e,t.x,t.y)};s.TypedArrayHelper.prototype.setVec2Components=function(e,t,r){var i=this.array,a=this.indexOffset+e*this.componentSize;return i[a]=t,i[a+1]=r,this};s.TypedArrayHelper.prototype.setVec3=function(e,t){return this.setVec3Components(e,t.x,t.y,t.z)};s.TypedArrayHelper.prototype.setVec3Components=function(e,t,r,i){var a=this.array,o=this.indexOffset+e*this.componentSize;return a[o]=t,a[o+1]=r,a[o+2]=i,this};s.TypedArrayHelper.prototype.setVec4=function(e,t){return this.setVec4Components(e,t.x,t.y,t.z,t.w)};s.TypedArrayHelper.prototype.setVec4Components=function(e,t,r,i,a){var o=this.array,n=this.indexOffset+e*this.componentSize;return o[n]=t,o[n+1]=r,o[n+2]=i,o[n+3]=a,this};s.TypedArrayHelper.prototype.setMat3=function(e,t){return this.setFromArray(this.indexOffset+e*this.componentSize,t.elements)};s.TypedArrayHelper.prototype.setMat4=function(e,t){return this.setFromArray(this.indexOffset+e*this.componentSize,t.elements)};s.TypedArrayHelper.prototype.setColor=function(e,t){return this.setVec3Components(e,t.r,t.g,t.b)};s.TypedArrayHelper.prototype.setNumber=function(e,t){return this.array[this.indexOffset+e*this.componentSize]=t,this};s.TypedArrayHelper.prototype.getValueAtIndex=function(e){return this.array[this.indexOffset+e]};s.TypedArrayHelper.prototype.getComponentValueAtIndex=function(e){return this.array.subarray(this.indexOffset+e*this.componentSize)};s.ShaderAttribute=function(e,t,r){var i=s.ShaderAttribute.typeSizeMap;this.type=typeof e=="string"&&i.hasOwnProperty(e)?e:"f",this.componentSize=i[this.type],this.arrayType=r||Float32Array,this.typedArray=null,this.bufferAttribute=null,this.dynamicBuffer=!!t,this.updateMin=0,this.updateMax=0};s.ShaderAttribute.constructor=s.ShaderAttribute;s.ShaderAttribute.typeSizeMap={f:1,v2:2,v3:3,v4:4,c:3,m3:9,m4:16};s.ShaderAttribute.prototype.setUpdateRange=function(e,t){this.updateMin=Math.min(e*this.componentSize,this.updateMin*this.componentSize),this.updateMax=Math.max(t*this.componentSize,this.updateMax*this.componentSize)};s.ShaderAttribute.prototype.flagUpdate=function(){var e=this.bufferAttribute,t=e.updateRange;t.offset=this.updateMin,t.count=Math.min(this.updateMax-this.updateMin+this.componentSize,this.typedArray.array.length),e.needsUpdate=!0};s.ShaderAttribute.prototype.resetUpdateRange=function(){this.updateMin=0,this.updateMax=0};s.ShaderAttribute.prototype.resetDynamic=function(){this.bufferAttribute.usage=this.dynamicBuffer?Vt:zt};s.ShaderAttribute.prototype.splice=function(e,t){this.typedArray.splice(e,t),this.forceUpdateAll()};s.ShaderAttribute.prototype.forceUpdateAll=function(){this.bufferAttribute.array=this.typedArray.array,this.bufferAttribute.updateRange.offset=0,this.bufferAttribute.updateRange.count=-1,this.bufferAttribute.usage=zt,this.bufferAttribute.needsUpdate=!0};s.ShaderAttribute.prototype._ensureTypedArray=function(e){this.typedArray!==null&&this.typedArray.size===e*this.componentSize||(this.typedArray!==null&&this.typedArray.size!==e?this.typedArray.setSize(e):this.typedArray===null&&(this.typedArray=new s.TypedArrayHelper(this.arrayType,e,this.componentSize)))};s.ShaderAttribute.prototype._createBufferAttribute=function(e){if(this._ensureTypedArray(e),this.bufferAttribute!==null){this.bufferAttribute.array=this.typedArray.array,parseFloat(Jt)>=81&&(this.bufferAttribute.count=this.bufferAttribute.array.length/this.bufferAttribute.itemSize),this.bufferAttribute.needsUpdate=!0;return}this.bufferAttribute=new it(this.typedArray.array,this.componentSize),this.bufferAttribute.usage=this.dynamicBuffer?Vt:zt};s.ShaderAttribute.prototype.getLength=function(){return this.typedArray===null?0:this.typedArray.array.length};s.shaderChunks={defines:["#define PACKED_COLOR_SIZE 256.0","#define PACKED_COLOR_DIVISOR 255.0"].join(`
`),uniforms:["uniform float deltaTime;","uniform float runTime;","uniform sampler2D tex;","uniform vec4 textureAnimation;","uniform float scale;"].join(`
`),attributes:["attribute vec4 acceleration;","attribute vec3 velocity;","attribute vec4 rotation;","attribute vec3 rotationCenter;","attribute vec4 params;","attribute vec4 size;","attribute vec4 angle;","attribute vec4 color;","attribute vec4 opacity;"].join(`
`),varyings:["varying vec4 vColor;","#ifdef SHOULD_ROTATE_TEXTURE","    varying float vAngle;","#endif","#ifdef SHOULD_CALCULATE_SPRITE","    varying vec4 vSpriteSheet;","#endif"].join(`
`),branchAvoidanceFunctions:["float when_gt(float x, float y) {","    return max(sign(x - y), 0.0);","}","float when_lt(float x, float y) {","    return min( max(1.0 - sign(x - y), 0.0), 1.0 );","}","float when_eq( float x, float y ) {","    return 1.0 - abs( sign( x - y ) );","}","float when_ge(float x, float y) {","  return 1.0 - when_lt(x, y);","}","float when_le(float x, float y) {","  return 1.0 - when_gt(x, y);","}","float and(float a, float b) {","    return a * b;","}","float or(float a, float b) {","    return min(a + b, 1.0);","}"].join(`
`),unpackColor:["vec3 unpackColor( in float hex ) {","   vec3 c = vec3( 0.0 );","   float r = mod( (hex / PACKED_COLOR_SIZE / PACKED_COLOR_SIZE), PACKED_COLOR_SIZE );","   float g = mod( (hex / PACKED_COLOR_SIZE), PACKED_COLOR_SIZE );","   float b = mod( hex, PACKED_COLOR_SIZE );","   c.r = r / PACKED_COLOR_DIVISOR;","   c.g = g / PACKED_COLOR_DIVISOR;","   c.b = b / PACKED_COLOR_DIVISOR;","   return c;","}"].join(`
`),unpackRotationAxis:["vec3 unpackRotationAxis( in float hex ) {","   vec3 c = vec3( 0.0 );","   float r = mod( (hex / PACKED_COLOR_SIZE / PACKED_COLOR_SIZE), PACKED_COLOR_SIZE );","   float g = mod( (hex / PACKED_COLOR_SIZE), PACKED_COLOR_SIZE );","   float b = mod( hex, PACKED_COLOR_SIZE );","   c.r = r / PACKED_COLOR_DIVISOR;","   c.g = g / PACKED_COLOR_DIVISOR;","   c.b = b / PACKED_COLOR_DIVISOR;","   c *= vec3( 2.0 );","   c -= vec3( 1.0 );","   return c;","}"].join(`
`),floatOverLifetime:["float getFloatOverLifetime( in float positionInTime, in vec4 attr ) {","    highp float value = 0.0;","    float deltaAge = positionInTime * float( VALUE_OVER_LIFETIME_LENGTH - 1 );","    float fIndex = 0.0;","    float shouldApplyValue = 0.0;","    value += attr[ 0 ] * when_eq( deltaAge, 0.0 );","","    for( int i = 0; i < VALUE_OVER_LIFETIME_LENGTH - 1; ++i ) {","       fIndex = float( i );","       shouldApplyValue = and( when_gt( deltaAge, fIndex ), when_le( deltaAge, fIndex + 1.0 ) );","       value += shouldApplyValue * mix( attr[ i ], attr[ i + 1 ], deltaAge - fIndex );","    }","","    return value;","}"].join(`
`),colorOverLifetime:["vec3 getColorOverLifetime( in float positionInTime, in vec3 color1, in vec3 color2, in vec3 color3, in vec3 color4 ) {","    vec3 value = vec3( 0.0 );","    value.x = getFloatOverLifetime( positionInTime, vec4( color1.x, color2.x, color3.x, color4.x ) );","    value.y = getFloatOverLifetime( positionInTime, vec4( color1.y, color2.y, color3.y, color4.y ) );","    value.z = getFloatOverLifetime( positionInTime, vec4( color1.z, color2.z, color3.z, color4.z ) );","    return value;","}"].join(`
`),paramFetchingFunctions:["float getAlive() {","   return params.x;","}","float getAge() {","   return params.y;","}","float getMaxAge() {","   return params.z;","}","float getWiggle() {","   return params.w;","}"].join(`
`),forceFetchingFunctions:["vec4 getPosition( in float age ) {","   return modelViewMatrix * vec4( position, 1.0 );","}","vec3 getVelocity( in float age ) {","   return velocity * age;","}","vec3 getAcceleration( in float age ) {","   return acceleration.xyz * age;","}"].join(`
`),rotationFunctions:["#ifdef SHOULD_ROTATE_PARTICLES","   mat4 getRotationMatrix( in vec3 axis, in float angle) {","       axis = normalize(axis);","       float s = sin(angle);","       float c = cos(angle);","       float oc = 1.0 - c;","","       return mat4(oc * axis.x * axis.x + c,           oc * axis.x * axis.y - axis.z * s,  oc * axis.z * axis.x + axis.y * s,  0.0,","                   oc * axis.x * axis.y + axis.z * s,  oc * axis.y * axis.y + c,           oc * axis.y * axis.z - axis.x * s,  0.0,","                   oc * axis.z * axis.x - axis.y * s,  oc * axis.y * axis.z + axis.x * s,  oc * axis.z * axis.z + c,           0.0,","                   0.0,                                0.0,                                0.0,                                1.0);","   }","","   vec3 getRotation( in vec3 pos, in float positionInTime ) {","      if( rotation.y == 0.0 ) {","           return pos;","      }","","      vec3 axis = unpackRotationAxis( rotation.x );","      vec3 center = rotationCenter;","      vec3 translated;","      mat4 rotationMatrix;","      float angle = 0.0;","      angle += when_eq( rotation.z, 0.0 ) * rotation.y;","      angle += when_gt( rotation.z, 0.0 ) * mix( 0.0, rotation.y, positionInTime );","      translated = rotationCenter - pos;","      rotationMatrix = getRotationMatrix( axis, angle );","      return center - vec3( rotationMatrix * vec4( translated, 0.0 ) );","   }","#endif"].join(`
`),rotateTexture:["    vec2 vUv = vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y );","","    #ifdef SHOULD_ROTATE_TEXTURE","       float x = gl_PointCoord.x - 0.5;","       float y = 1.0 - gl_PointCoord.y - 0.5;","       float c = cos( -vAngle );","       float s = sin( -vAngle );","       vUv = vec2( c * x + s * y + 0.5, c * y - s * x + 0.5 );","    #endif","","    #ifdef SHOULD_CALCULATE_SPRITE","        float framesX = vSpriteSheet.x;","        float framesY = vSpriteSheet.y;","        float columnNorm = vSpriteSheet.z;","        float rowNorm = vSpriteSheet.w;","        vUv.x = gl_PointCoord.x * framesX + columnNorm;","        vUv.y = 1.0 - (gl_PointCoord.y * framesY + rowNorm);","    #endif","","    vec4 rotatedTexture = texture2D( tex, vUv );"].join(`
`)};s.shaders={vertex:[s.shaderChunks.defines,s.shaderChunks.uniforms,s.shaderChunks.attributes,s.shaderChunks.varyings,W.common,W.logdepthbuf_pars_vertex,W.fog_pars_vertex,s.shaderChunks.branchAvoidanceFunctions,s.shaderChunks.unpackColor,s.shaderChunks.unpackRotationAxis,s.shaderChunks.floatOverLifetime,s.shaderChunks.colorOverLifetime,s.shaderChunks.paramFetchingFunctions,s.shaderChunks.forceFetchingFunctions,s.shaderChunks.rotationFunctions,"void main() {","    highp float age = getAge();","    highp float alive = getAlive();","    highp float maxAge = getMaxAge();","    highp float positionInTime = (age / maxAge);","    highp float isAlive = when_gt( alive, 0.0 );","    #ifdef SHOULD_WIGGLE_PARTICLES","        float wiggleAmount = positionInTime * getWiggle();","        float wiggleSin = isAlive * sin( wiggleAmount );","        float wiggleCos = isAlive * cos( wiggleAmount );","    #endif","    vec3 vel = getVelocity( age );","    vec3 accel = getAcceleration( age );","    vec3 force = vec3( 0.0 );","    vec3 pos = vec3( position );","    float drag = 1.0 - (positionInTime * 0.5) * acceleration.w;","    force += vel;","    force *= drag;","    force += accel * age;","    pos += force;","    #ifdef SHOULD_WIGGLE_PARTICLES","        pos.x += wiggleSin;","        pos.y += wiggleCos;","        pos.z += wiggleSin;","    #endif","    #ifdef SHOULD_ROTATE_PARTICLES","        pos = getRotation( pos, positionInTime );","    #endif","    vec4 mvPosition = modelViewMatrix * vec4( pos, 1.0 );","    highp float pointSize = getFloatOverLifetime( positionInTime, size ) * isAlive;","    #ifdef HAS_PERSPECTIVE","        float perspective = scale / length( mvPosition.xyz );","    #else","        float perspective = 1.0;","    #endif","    float pointSizePerspective = pointSize * perspective;","    #ifdef COLORIZE","       vec3 c = isAlive * getColorOverLifetime(","           positionInTime,","           unpackColor( color.x ),","           unpackColor( color.y ),","           unpackColor( color.z ),","           unpackColor( color.w )","       );","    #else","       vec3 c = vec3(1.0);","    #endif","    float o = isAlive * getFloatOverLifetime( positionInTime, opacity );","    vColor = vec4( c, o );","    #ifdef SHOULD_ROTATE_TEXTURE","        vAngle = isAlive * getFloatOverLifetime( positionInTime, angle );","    #endif","    #ifdef SHOULD_CALCULATE_SPRITE","        float framesX = textureAnimation.x;","        float framesY = textureAnimation.y;","        float loopCount = textureAnimation.w;","        float totalFrames = textureAnimation.z;","        float frameNumber = mod( (positionInTime * loopCount) * totalFrames, totalFrames );","        float column = floor(mod( frameNumber, framesX ));","        float row = floor( (frameNumber - column) / framesX );","        float columnNorm = column / framesX;","        float rowNorm = row / framesY;","        vSpriteSheet.x = 1.0 / framesX;","        vSpriteSheet.y = 1.0 / framesY;","        vSpriteSheet.z = columnNorm;","        vSpriteSheet.w = rowNorm;","    #endif","    gl_PointSize = pointSizePerspective;","    gl_Position = projectionMatrix * mvPosition;",W.logdepthbuf_vertex,W.fog_vertex,"}"].join(`
`),fragment:[s.shaderChunks.uniforms,W.common,W.fog_pars_fragment,W.logdepthbuf_pars_fragment,s.shaderChunks.varyings,s.shaderChunks.branchAvoidanceFunctions,"void main() {","    vec3 outgoingLight = vColor.xyz;","    ","    #ifdef ALPHATEST","       if ( vColor.w < float(ALPHATEST) ) discard;","    #endif",s.shaderChunks.rotateTexture,W.logdepthbuf_fragment,"    outgoingLight = vColor.xyz * rotatedTexture.xyz;","    gl_FragColor = vec4( outgoingLight.xyz, rotatedTexture.w * vColor.w );",W.fog_fragment,"}"].join(`
`)};s.utils={types:{BOOLEAN:"boolean",STRING:"string",NUMBER:"number",OBJECT:"object"},ensureTypedArg:function(e,t,r){return typeof e===t?e:r},ensureArrayTypedArg:function(e,t,r){if(Array.isArray(e)){for(var i=e.length-1;i>=0;--i)if(typeof e[i]!==t)return r;return e}return this.ensureTypedArg(e,t,r)},ensureInstanceOf:function(e,t,r){return t!==void 0&&e instanceof t?e:r},ensureArrayInstanceOf:function(e,t,r){if(Array.isArray(e)){for(var i=e.length-1;i>=0;--i)if(t!==void 0&&!(e[i]instanceof t))return r;return e}return this.ensureInstanceOf(e,t,r)},ensureValueOverLifetimeCompliance:function(e,t,r){t=t||3,r=r||3,Array.isArray(e._value)===!1&&(e._value=[e._value]),Array.isArray(e._spread)===!1&&(e._spread=[e._spread]);var i=this.clamp(e._value.length,t,r),a=this.clamp(e._spread.length,t,r),o=Math.max(i,a);e._value.length!==o&&(e._value=this.interpolateArray(e._value,o)),e._spread.length!==o&&(e._spread=this.interpolateArray(e._spread,o))},interpolateArray:function(e,t){for(var r=e.length,i=[typeof e[0].clone=="function"?e[0].clone():e[0]],a=(r-1)/(t-1),o=1;o<t-1;++o){var n=o*a,l=Math.floor(n),u=Math.ceil(n),c=n-l;i[o]=this.lerpTypeAgnostic(e[l],e[u],c)}return i.push(typeof e[r-1].clone=="function"?e[r-1].clone():e[r-1]),i},clamp:function(e,t,r){return Math.max(t,Math.min(e,r))},zeroToEpsilon:function(e,t){var r=1e-5,i=e;return i=t?Math.random()*r*10:r,e<0&&e>-r&&(i=-i),i},lerpTypeAgnostic:function(e,t,r){var i=this.types,a;if(typeof e===i.NUMBER&&typeof t===i.NUMBER)return e+(t-e)*r;if(e instanceof Y&&t instanceof Y)return a=e.clone(),a.x=this.lerp(e.x,t.x,r),a.y=this.lerp(e.y,t.y,r),a;if(e instanceof _&&t instanceof _)return a=e.clone(),a.x=this.lerp(e.x,t.x,r),a.y=this.lerp(e.y,t.y,r),a.z=this.lerp(e.z,t.z,r),a;if(e instanceof Pt&&t instanceof Pt)return a=e.clone(),a.x=this.lerp(e.x,t.x,r),a.y=this.lerp(e.y,t.y,r),a.z=this.lerp(e.z,t.z,r),a.w=this.lerp(e.w,t.w,r),a;if(e instanceof G&&t instanceof G)return a=e.clone(),a.r=this.lerp(e.r,t.r,r),a.g=this.lerp(e.g,t.g,r),a.b=this.lerp(e.b,t.b,r),a;console.warn("Invalid argument types, or argument types do not match:",e,t)},lerp:function(e,t,r){return e+(t-e)*r},roundToNearestMultiple:function(e,t){var r=0;return t===0||(r=Math.abs(e)%t,r===0)?e:e<0?-(Math.abs(e)-r):e+t-r},arrayValuesAreEqual:function(e){for(var t=0;t<e.length-1;++t)if(e[t]!==e[t+1])return!1;return!0},randomFloat:function(e,t){return e+t*(Math.random()-.5)},randomVector3:function(e,t,r,i,a){var o=r.x+(Math.random()*i.x-i.x*.5),n=r.y+(Math.random()*i.y-i.y*.5),l=r.z+(Math.random()*i.z-i.z*.5);a&&(o=-a.x*.5+this.roundToNearestMultiple(o,a.x),n=-a.y*.5+this.roundToNearestMultiple(n,a.y),l=-a.z*.5+this.roundToNearestMultiple(l,a.z)),e.typedArray.setVec3Components(t,o,n,l)},randomColor:function(e,t,r,i){var a=r.r+Math.random()*i.x,o=r.g+Math.random()*i.y,n=r.b+Math.random()*i.z;a=this.clamp(a,0,1),o=this.clamp(o,0,1),n=this.clamp(n,0,1),e.typedArray.setVec3Components(t,a,o,n)},randomColorAsHex:function(){var e=new G;return function(t,r,i,a){for(var o=i.length,n=[],l=0;l<o;++l){var u=a[l];e.copy(i[l]),e.r+=Math.random()*u.x-u.x*.5,e.g+=Math.random()*u.y-u.y*.5,e.b+=Math.random()*u.z-u.z*.5,e.r=this.clamp(e.r,0,1),e.g=this.clamp(e.g,0,1),e.b=this.clamp(e.b,0,1),n.push(e.getHex())}t.typedArray.setVec4Components(r,n[0],n[1],n[2],n[3])}}(),randomVector3OnLine:function(e,t,r,i){var a=r.clone();a.lerp(i,Math.random()),e.typedArray.setVec3Components(t,a.x,a.y,a.z)},randomVector3OnSphere:function(e,t,r,i,a,o,n,l){var u=2*Math.random()-1,c=6.2832*Math.random(),m=Math.sqrt(1-u*u),y=this.randomFloat(i,a),d=0,h=0,p=0;n&&(y=Math.round(y/n)*n),d=m*Math.cos(c)*y,h=m*Math.sin(c)*y,p=u*y,d*=o.x,h*=o.y,p*=o.z,d+=r.x,h+=r.y,p+=r.z,e.typedArray.setVec3Components(t,d,h,p)},seededRandom:function(e){var t=Math.sin(e)*1e4;return t-(t|0)},randomVector3OnDisc:function(e,t,r,i,a,o,n){var l=6.2832*Math.random(),u=Math.abs(this.randomFloat(i,a)),c=0,m=0,y=0;n&&(u=Math.round(u/n)*n),c=Math.cos(l)*u,m=Math.sin(l)*u,c*=o.x,m*=o.y,c+=r.x,m+=r.y,y+=r.z,e.typedArray.setVec3Components(t,c,m,y)},randomDirectionVector3OnSphere:function(){var e=new _;return function(t,r,i,a,o,n,l,u){e.copy(n),e.x-=i,e.y-=a,e.z-=o,e.normalize().multiplyScalar(-this.randomFloat(l,u)),t.typedArray.setVec3Components(r,e.x,e.y,e.z)}}(),randomDirectionVector3OnDisc:function(){var e=new _;return function(t,r,i,a,o,n,l,u){e.copy(n),e.x-=i,e.y-=a,e.z-=o,e.normalize().multiplyScalar(-this.randomFloat(l,u)),t.typedArray.setVec3Components(r,e.x,e.y,0)}}(),getPackedRotationAxis:function(){var e=new _,t=new _,r=new G,i=new _(1,1,1);return function(a,o){return e.copy(a).normalize(),t.copy(o).normalize(),e.x+=-o.x*.5+Math.random()*o.x,e.y+=-o.y*.5+Math.random()*o.y,e.z+=-o.z*.5+Math.random()*o.z,e.normalize().add(i).multiplyScalar(.5),r.setRGB(e.x,e.y,e.z),r.getHex()}}()};s.Group=function(e){var t=s.utils,r=t.types;e=t.ensureTypedArg(e,r.OBJECT,{}),e.texture=t.ensureTypedArg(e.texture,r.OBJECT,{}),this.uuid=Ht.generateUUID(),this.fixedTimeStep=t.ensureTypedArg(e.fixedTimeStep,r.NUMBER,.016),this.texture=t.ensureInstanceOf(e.texture.value,Qt,null),this.textureFrames=t.ensureInstanceOf(e.texture.frames,Y,new Y(1,1)),this.textureFrameCount=t.ensureTypedArg(e.texture.frameCount,r.NUMBER,this.textureFrames.x*this.textureFrames.y),this.textureLoop=t.ensureTypedArg(e.texture.loop,r.NUMBER,1),this.textureFrames.max(new Y(1,1)),this.hasPerspective=t.ensureTypedArg(e.hasPerspective,r.BOOLEAN,!0),this.colorize=t.ensureTypedArg(e.colorize,r.BOOLEAN,!0),this.maxParticleCount=t.ensureTypedArg(e.maxParticleCount,r.NUMBER,null),this.blending=t.ensureTypedArg(e.blending,r.NUMBER,te),this.transparent=t.ensureTypedArg(e.transparent,r.BOOLEAN,!0),this.alphaTest=parseFloat(t.ensureTypedArg(e.alphaTest,r.NUMBER,0)),this.depthWrite=t.ensureTypedArg(e.depthWrite,r.BOOLEAN,!1),this.depthTest=t.ensureTypedArg(e.depthTest,r.BOOLEAN,!0),this.fog=t.ensureTypedArg(e.fog,r.BOOLEAN,!0),this.scale=t.ensureTypedArg(e.scale,r.NUMBER,300),this.emitters=[],this.emitterIDs=[],this._pool=[],this._poolCreationSettings=null,this._createNewWhenPoolEmpty=0,this._attributesNeedRefresh=!1,this._attributesNeedDynamicReset=!1,this.particleCount=0,this.uniforms={tex:{type:"t",value:this.texture},textureAnimation:{type:"v4",value:new Pt(this.textureFrames.x,this.textureFrames.y,this.textureFrameCount,Math.max(Math.abs(this.textureLoop),1))},fogColor:{type:"c",value:this.fog?new G:null},fogNear:{type:"f",value:10},fogFar:{type:"f",value:200},fogDensity:{type:"f",value:.5},deltaTime:{type:"f",value:0},runTime:{type:"f",value:0},scale:{type:"f",value:this.scale}},this.defines={HAS_PERSPECTIVE:this.hasPerspective,COLORIZE:this.colorize,VALUE_OVER_LIFETIME_LENGTH:s.valueOverLifetimeLength,SHOULD_ROTATE_TEXTURE:!1,SHOULD_ROTATE_PARTICLES:!1,SHOULD_WIGGLE_PARTICLES:!1,SHOULD_CALCULATE_SPRITE:this.textureFrames.x>1||this.textureFrames.y>1},this.attributes={position:new s.ShaderAttribute("v3",!0),acceleration:new s.ShaderAttribute("v4",!0),velocity:new s.ShaderAttribute("v3",!0),rotation:new s.ShaderAttribute("v4",!0),rotationCenter:new s.ShaderAttribute("v3",!0),params:new s.ShaderAttribute("v4",!0),size:new s.ShaderAttribute("v4",!0),angle:new s.ShaderAttribute("v4",!0),color:new s.ShaderAttribute("v4",!0),opacity:new s.ShaderAttribute("v4",!0)},this.attributeKeys=Object.keys(this.attributes),this.attributeCount=this.attributeKeys.length,this.material=new At({uniforms:this.uniforms,vertexShader:s.shaders.vertex,fragmentShader:s.shaders.fragment,blending:this.blending,transparent:this.transparent,alphaTest:this.alphaTest,depthWrite:this.depthWrite,depthTest:this.depthTest,defines:this.defines,fog:this.fog}),this.geometry=new bt,this.mesh=new Gt(this.geometry,this.material),this.maxParticleCount===null&&console.warn("SPE.Group: No maxParticleCount specified. Adding emitters after rendering will probably cause errors.")};s.Group.constructor=s.Group;s.Group.prototype._updateDefines=function(){var e=this.emitters,t=e.length-1,r,i=this.defines;for(t;t>=0;--t)r=e[t],i.SHOULD_CALCULATE_SPRITE||(i.SHOULD_ROTATE_TEXTURE=i.SHOULD_ROTATE_TEXTURE||!!Math.max(Math.max.apply(null,r.angle.value),Math.max.apply(null,r.angle.spread))),i.SHOULD_ROTATE_PARTICLES=i.SHOULD_ROTATE_PARTICLES||!!Math.max(r.rotation.angle,r.rotation.angleSpread),i.SHOULD_WIGGLE_PARTICLES=i.SHOULD_WIGGLE_PARTICLES||!!Math.max(r.wiggle.value,r.wiggle.spread);this.material.needsUpdate=!0};s.Group.prototype._applyAttributesToGeometry=function(){var e=this.attributes,t=this.geometry,r=t.attributes,i,a;for(var o in e)e.hasOwnProperty(o)&&(i=e[o],a=r[o],a?a.array=i.typedArray.array:t.setAttribute(o,i.bufferAttribute),i.bufferAttribute.needsUpdate=!0);this.geometry.setDrawRange(0,this.particleCount)};s.Group.prototype.addEmitter=function(e){if(e instanceof s.Emitter){if(this.emitterIDs.indexOf(e.uuid)>-1){console.error("Emitter already exists in this group. Will not add again.");return}else if(e.group!==null){console.error("Emitter already belongs to another group. Will not add to requested group.");return}}else{console.error("`emitter` argument must be instance of SPE.Emitter. Was provided with:",e);return}var t=this.attributes,r=this.particleCount,i=r+e.particleCount;this.particleCount=i,this.maxParticleCount!==null&&this.particleCount>this.maxParticleCount&&console.warn("SPE.Group: maxParticleCount exceeded. Requesting",this.particleCount,"particles, can support only",this.maxParticleCount),e._calculatePPSValue(e.maxAge._value+e.maxAge._spread),e._setBufferUpdateRanges(this.attributeKeys),e._setAttributeOffset(r),e.group=this,e.attributes=this.attributes;for(var a in t)t.hasOwnProperty(a)&&t[a]._createBufferAttribute(this.maxParticleCount!==null?this.maxParticleCount:this.particleCount);for(var o=r;o<i;++o)e._assignPositionValue(o),e._assignForceValue(o,"velocity"),e._assignForceValue(o,"acceleration"),e._assignAbsLifetimeValue(o,"opacity"),e._assignAbsLifetimeValue(o,"size"),e._assignAngleValue(o),e._assignRotationValue(o),e._assignParamsValue(o),e._assignColorValue(o);return this._applyAttributesToGeometry(),this.emitters.push(e),this.emitterIDs.push(e.uuid),this._updateDefines(e),this.material.needsUpdate=!0,this.geometry.needsUpdate=!0,this._attributesNeedRefresh=!0,this};s.Group.prototype.removeEmitter=function(e){var t=this.emitterIDs.indexOf(e.uuid);if(e instanceof s.Emitter){if(t===-1){console.error("Emitter does not exist in this group. Will not remove.");return}}else{console.error("`emitter` argument must be instance of SPE.Emitter. Was provided with:",e);return}for(var r=e.attributeOffset,i=r+e.particleCount,a=this.attributes.params.typedArray,o=r;o<i;++o)a.array[o*4]=0,a.array[o*4+1]=0;this.emitters.splice(t,1),this.emitterIDs.splice(t,1);for(var n in this.attributes)this.attributes.hasOwnProperty(n)&&this.attributes[n].splice(r,i);this.particleCount-=e.particleCount,e._onRemove(),this._attributesNeedRefresh=!0};s.Group.prototype.getFromPool=function(){var e=this._pool,t=this._createNewWhenPoolEmpty;if(e.length)return e.pop();if(t){var r=new s.Emitter(this._poolCreationSettings);return this.addEmitter(r),r}return null};s.Group.prototype.releaseIntoPool=function(e){if(!(e instanceof s.Emitter)){console.error("Argument is not instanceof SPE.Emitter:",e);return}return e.reset(),this._pool.unshift(e),this};s.Group.prototype.getPool=function(){return this._pool};s.Group.prototype.addPool=function(e,t,r){var i;this._poolCreationSettings=t,this._createNewWhenPoolEmpty=!!r;for(var a=0;a<e;++a)Array.isArray(t)?i=new s.Emitter(t[a]):i=new s.Emitter(t),this.addEmitter(i),this.releaseIntoPool(i);return this};s.Group.prototype._triggerSingleEmitter=function(e){var t=this.getFromPool(),r=this;if(t===null){console.log("SPE.Group pool ran out.");return}return e instanceof _&&(t.position.value.copy(e),t.position.value=t.position.value),t.enable(),setTimeout(function(){t.disable(),r.releaseIntoPool(t)},Math.max(t.duration,t.maxAge.value+t.maxAge.spread)*1e3),this};s.Group.prototype.triggerPoolEmitter=function(e,t){if(typeof e=="number"&&e>1)for(var r=0;r<e;++r)this._triggerSingleEmitter(t);else this._triggerSingleEmitter(t);return this};s.Group.prototype._updateUniforms=function(e){this.uniforms.runTime.value+=e,this.uniforms.deltaTime.value=e};s.Group.prototype._resetBufferRanges=function(){var e=this.attributeKeys,t=this.attributeCount-1,r=this.attributes;for(t;t>=0;--t)r[e[t]].resetUpdateRange()};s.Group.prototype._updateBuffers=function(e){var t=this.attributeKeys,r=this.attributeCount-1,i=this.attributes,a=e.bufferUpdateRanges,o,n,l;for(r;r>=0;--r)o=t[r],n=a[o],l=i[o],l.setUpdateRange(n.min,n.max),l.flagUpdate()};s.Group.prototype.tick=function(e){var t=this.emitters,r=t.length,i=e||this.fixedTimeStep,a=this.attributeKeys,o,n=this.attributes;if(this._updateUniforms(i),this._resetBufferRanges(),!(r===0&&this._attributesNeedRefresh===!1&&this._attributesNeedDynamicReset===!1)){for(var o=0,l;o<r;++o)l=t[o],l.tick(i),this._updateBuffers(l);if(this._attributesNeedDynamicReset===!0){for(o=this.attributeCount-1,o;o>=0;--o)n[a[o]].resetDynamic();this._attributesNeedDynamicReset=!1}if(this._attributesNeedRefresh===!0){for(o=this.attributeCount-1,o;o>=0;--o)n[a[o]].forceUpdateAll();this._attributesNeedRefresh=!1,this._attributesNeedDynamicReset=!0}}};s.Group.prototype.dispose=function(){return this.geometry.dispose(),this.material.dispose(),this};s.Emitter=function(e){var t=s.utils,r=t.types,i=s.valueOverLifetimeLength;e=t.ensureTypedArg(e,r.OBJECT,{}),e.position=t.ensureTypedArg(e.position,r.OBJECT,{}),e.velocity=t.ensureTypedArg(e.velocity,r.OBJECT,{}),e.acceleration=t.ensureTypedArg(e.acceleration,r.OBJECT,{}),e.radius=t.ensureTypedArg(e.radius,r.OBJECT,{}),e.drag=t.ensureTypedArg(e.drag,r.OBJECT,{}),e.rotation=t.ensureTypedArg(e.rotation,r.OBJECT,{}),e.color=t.ensureTypedArg(e.color,r.OBJECT,{}),e.opacity=t.ensureTypedArg(e.opacity,r.OBJECT,{}),e.size=t.ensureTypedArg(e.size,r.OBJECT,{}),e.angle=t.ensureTypedArg(e.angle,r.OBJECT,{}),e.wiggle=t.ensureTypedArg(e.wiggle,r.OBJECT,{}),e.maxAge=t.ensureTypedArg(e.maxAge,r.OBJECT,{}),e.onParticleSpawn&&console.warn("onParticleSpawn has been removed. Please set properties directly to alter values at runtime."),this.uuid=Ht.generateUUID(),this.type=t.ensureTypedArg(e.type,r.NUMBER,s.distributions.BOX),this.position={_value:t.ensureInstanceOf(e.position.value,_,new _),_spread:t.ensureInstanceOf(e.position.spread,_,new _),_spreadClamp:t.ensureInstanceOf(e.position.spreadClamp,_,new _),_distribution:t.ensureTypedArg(e.position.distribution,r.NUMBER,this.type),_randomise:t.ensureTypedArg(e.position.randomise,r.BOOLEAN,!1),_radius:t.ensureTypedArg(e.position.radius,r.NUMBER,10),_radiusScale:t.ensureInstanceOf(e.position.radiusScale,_,new _(1,1,1)),_distributionClamp:t.ensureTypedArg(e.position.distributionClamp,r.NUMBER,0)},this.velocity={_value:t.ensureInstanceOf(e.velocity.value,_,new _),_spread:t.ensureInstanceOf(e.velocity.spread,_,new _),_distribution:t.ensureTypedArg(e.velocity.distribution,r.NUMBER,this.type),_randomise:t.ensureTypedArg(e.position.randomise,r.BOOLEAN,!1)},this.acceleration={_value:t.ensureInstanceOf(e.acceleration.value,_,new _),_spread:t.ensureInstanceOf(e.acceleration.spread,_,new _),_distribution:t.ensureTypedArg(e.acceleration.distribution,r.NUMBER,this.type),_randomise:t.ensureTypedArg(e.position.randomise,r.BOOLEAN,!1)},this.drag={_value:t.ensureTypedArg(e.drag.value,r.NUMBER,0),_spread:t.ensureTypedArg(e.drag.spread,r.NUMBER,0),_randomise:t.ensureTypedArg(e.position.randomise,r.BOOLEAN,!1)},this.wiggle={_value:t.ensureTypedArg(e.wiggle.value,r.NUMBER,0),_spread:t.ensureTypedArg(e.wiggle.spread,r.NUMBER,0)},this.rotation={_axis:t.ensureInstanceOf(e.rotation.axis,_,new _(0,1,0)),_axisSpread:t.ensureInstanceOf(e.rotation.axisSpread,_,new _),_angle:t.ensureTypedArg(e.rotation.angle,r.NUMBER,0),_angleSpread:t.ensureTypedArg(e.rotation.angleSpread,r.NUMBER,0),_static:t.ensureTypedArg(e.rotation.static,r.BOOLEAN,!1),_center:t.ensureInstanceOf(e.rotation.center,_,this.position._value.clone()),_randomise:t.ensureTypedArg(e.position.randomise,r.BOOLEAN,!1)},this.maxAge={_value:t.ensureTypedArg(e.maxAge.value,r.NUMBER,2),_spread:t.ensureTypedArg(e.maxAge.spread,r.NUMBER,0)},this.color={_value:t.ensureArrayInstanceOf(e.color.value,G,new G),_spread:t.ensureArrayInstanceOf(e.color.spread,_,new _),_randomise:t.ensureTypedArg(e.position.randomise,r.BOOLEAN,!1)},this.opacity={_value:t.ensureArrayTypedArg(e.opacity.value,r.NUMBER,1),_spread:t.ensureArrayTypedArg(e.opacity.spread,r.NUMBER,0),_randomise:t.ensureTypedArg(e.position.randomise,r.BOOLEAN,!1)},this.size={_value:t.ensureArrayTypedArg(e.size.value,r.NUMBER,1),_spread:t.ensureArrayTypedArg(e.size.spread,r.NUMBER,0),_randomise:t.ensureTypedArg(e.position.randomise,r.BOOLEAN,!1)},this.angle={_value:t.ensureArrayTypedArg(e.angle.value,r.NUMBER,0),_spread:t.ensureArrayTypedArg(e.angle.spread,r.NUMBER,0),_randomise:t.ensureTypedArg(e.position.randomise,r.BOOLEAN,!1)},this.particleCount=t.ensureTypedArg(e.particleCount,r.NUMBER,100),this.duration=t.ensureTypedArg(e.duration,r.NUMBER,null),this.isStatic=t.ensureTypedArg(e.isStatic,r.BOOLEAN,!1),this.activeMultiplier=t.ensureTypedArg(e.activeMultiplier,r.NUMBER,1),this.direction=t.ensureTypedArg(e.direction,r.NUMBER,1),this.alive=t.ensureTypedArg(e.alive,r.BOOLEAN,!0),this.particlesPerSecond=0,this.activationIndex=0,this.attributeOffset=0,this.attributeEnd=0,this.age=0,this.activeParticleCount=0,this.group=null,this.attributes=null,this.paramsArray=null,this.resetFlags={position:t.ensureTypedArg(e.position.randomise,r.BOOLEAN,!1)||t.ensureTypedArg(e.radius.randomise,r.BOOLEAN,!1),velocity:t.ensureTypedArg(e.velocity.randomise,r.BOOLEAN,!1),acceleration:t.ensureTypedArg(e.acceleration.randomise,r.BOOLEAN,!1)||t.ensureTypedArg(e.drag.randomise,r.BOOLEAN,!1),rotation:t.ensureTypedArg(e.rotation.randomise,r.BOOLEAN,!1),rotationCenter:t.ensureTypedArg(e.rotation.randomise,r.BOOLEAN,!1),size:t.ensureTypedArg(e.size.randomise,r.BOOLEAN,!1),color:t.ensureTypedArg(e.color.randomise,r.BOOLEAN,!1),opacity:t.ensureTypedArg(e.opacity.randomise,r.BOOLEAN,!1),angle:t.ensureTypedArg(e.angle.randomise,r.BOOLEAN,!1)},this.updateFlags={},this.updateCounts={},this.updateMap={maxAge:"params",position:"position",velocity:"velocity",acceleration:"acceleration",drag:"acceleration",wiggle:"params",rotation:"rotation",size:"size",color:"color",opacity:"opacity",angle:"angle"};for(var a in this.updateMap)this.updateMap.hasOwnProperty(a)&&(this.updateCounts[this.updateMap[a]]=0,this.updateFlags[this.updateMap[a]]=!1,this._createGetterSetters(this[a],a));this.bufferUpdateRanges={},this.attributeKeys=null,this.attributeCount=0,t.ensureValueOverLifetimeCompliance(this.color,i,i),t.ensureValueOverLifetimeCompliance(this.opacity,i,i),t.ensureValueOverLifetimeCompliance(this.size,i,i),t.ensureValueOverLifetimeCompliance(this.angle,i,i)};s.Emitter.constructor=s.Emitter;s.Emitter.prototype._createGetterSetters=function(e,t){var r=this;for(var i in e)if(e.hasOwnProperty(i)){var a=i.replace("_","");Object.defineProperty(e,a,{get:function(o){return function(){return this[o]}}(i),set:function(o){return function(n){var l=r.updateMap[t],u=this[o],c=s.valueOverLifetimeLength;o==="_rotationCenter"?(r.updateFlags.rotationCenter=!0,r.updateCounts.rotationCenter=0):o==="_randomise"?r.resetFlags[l]=n:(r.updateFlags[l]=!0,r.updateCounts[l]=0),r.group._updateDefines(),this[o]=n,Array.isArray(u)&&s.utils.ensureValueOverLifetimeCompliance(r[t],c,c)}}(i)})}};s.Emitter.prototype._setBufferUpdateRanges=function(e){this.attributeKeys=e,this.attributeCount=e.length;for(var t=this.attributeCount-1;t>=0;--t)this.bufferUpdateRanges[e[t]]={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY}};s.Emitter.prototype._calculatePPSValue=function(e){var t=this.particleCount;this.duration?this.particlesPerSecond=t/(e<this.duration?e:this.duration):this.particlesPerSecond=t/e};s.Emitter.prototype._setAttributeOffset=function(e){this.attributeOffset=e,this.activationIndex=e,this.activationEnd=e+this.particleCount};s.Emitter.prototype._assignValue=function(e,t){switch(e){case"position":this._assignPositionValue(t);break;case"velocity":case"acceleration":this._assignForceValue(t,e);break;case"size":case"opacity":this._assignAbsLifetimeValue(t,e);break;case"angle":this._assignAngleValue(t);break;case"params":this._assignParamsValue(t);break;case"rotation":this._assignRotationValue(t);break;case"color":this._assignColorValue(t);break}};s.Emitter.prototype._assignPositionValue=function(e){var t=s.distributions,r=s.utils,i=this.position,a=this.attributes.position,o=i._value,n=i._spread,l=i._distribution;switch(l){case t.BOX:r.randomVector3(a,e,o,n,i._spreadClamp);break;case t.SPHERE:r.randomVector3OnSphere(a,e,o,i._radius,i._spread.x,i._radiusScale,i._spreadClamp.x,i._distributionClamp||this.particleCount);break;case t.DISC:r.randomVector3OnDisc(a,e,o,i._radius,i._spread.x,i._radiusScale,i._spreadClamp.x);break;case t.LINE:r.randomVector3OnLine(a,e,o,n);break}};s.Emitter.prototype._assignForceValue=function(e,t){var r=s.distributions,i=s.utils,a=this[t],o=a._value,n=a._spread,l=a._distribution,u,c,m,y,d;switch(l){case r.BOX:i.randomVector3(this.attributes[t],e,o,n);break;case r.SPHERE:u=this.attributes.position.typedArray.array,d=e*3,c=u[d],m=u[d+1],y=u[d+2],i.randomDirectionVector3OnSphere(this.attributes[t],e,c,m,y,this.position._value,a._value.x,a._spread.x);break;case r.DISC:u=this.attributes.position.typedArray.array,d=e*3,c=u[d],m=u[d+1],y=u[d+2],i.randomDirectionVector3OnDisc(this.attributes[t],e,c,m,y,this.position._value,a._value.x,a._spread.x);break;case r.LINE:i.randomVector3OnLine(this.attributes[t],e,o,n);break}if(t==="acceleration"){var h=i.clamp(i.randomFloat(this.drag._value,this.drag._spread),0,1);this.attributes.acceleration.typedArray.array[e*4+3]=h}};s.Emitter.prototype._assignAbsLifetimeValue=function(e,t){var r=this.attributes[t].typedArray,i=this[t],a=s.utils,o;a.arrayValuesAreEqual(i._value)&&a.arrayValuesAreEqual(i._spread)?(o=Math.abs(a.randomFloat(i._value[0],i._spread[0])),r.setVec4Components(e,o,o,o,o)):r.setVec4Components(e,Math.abs(a.randomFloat(i._value[0],i._spread[0])),Math.abs(a.randomFloat(i._value[1],i._spread[1])),Math.abs(a.randomFloat(i._value[2],i._spread[2])),Math.abs(a.randomFloat(i._value[3],i._spread[3])))};s.Emitter.prototype._assignAngleValue=function(e){var t=this.attributes.angle.typedArray,r=this.angle,i=s.utils,a;i.arrayValuesAreEqual(r._value)&&i.arrayValuesAreEqual(r._spread)?(a=i.randomFloat(r._value[0],r._spread[0]),t.setVec4Components(e,a,a,a,a)):t.setVec4Components(e,i.randomFloat(r._value[0],r._spread[0]),i.randomFloat(r._value[1],r._spread[1]),i.randomFloat(r._value[2],r._spread[2]),i.randomFloat(r._value[3],r._spread[3]))};s.Emitter.prototype._assignParamsValue=function(e){this.attributes.params.typedArray.setVec4Components(e,this.isStatic?1:0,0,Math.abs(s.utils.randomFloat(this.maxAge._value,this.maxAge._spread)),s.utils.randomFloat(this.wiggle._value,this.wiggle._spread))};s.Emitter.prototype._assignRotationValue=function(e){this.attributes.rotation.typedArray.setVec3Components(e,s.utils.getPackedRotationAxis(this.rotation._axis,this.rotation._axisSpread),s.utils.randomFloat(this.rotation._angle,this.rotation._angleSpread),this.rotation._static?0:1),this.attributes.rotationCenter.typedArray.setVec3(e,this.rotation._center)};s.Emitter.prototype._assignColorValue=function(e){s.utils.randomColorAsHex(this.attributes.color,e,this.color._value,this.color._spread)};s.Emitter.prototype._resetParticle=function(e){for(var t=this.resetFlags,r=this.updateFlags,i=this.updateCounts,a=this.attributeKeys,o,n,l=this.attributeCount-1;l>=0;--l)o=a[l],n=r[o],(t[o]===!0||n===!0)&&(this._assignValue(o,e),this._updateAttributeUpdateRange(o,e),n===!0&&i[o]===this.particleCount?(r[o]=!1,i[o]=0):n==!0&&++i[o])};s.Emitter.prototype._updateAttributeUpdateRange=function(e,t){var r=this.bufferUpdateRanges[e];r.min=Math.min(t,r.min),r.max=Math.max(t,r.max)};s.Emitter.prototype._resetBufferRanges=function(){var e=this.bufferUpdateRanges,t=this.bufferUpdateKeys,r=this.bufferUpdateCount-1,i;for(r;r>=0;--r)i=t[r],e[i].min=Number.POSITIVE_INFINITY,e[i].max=Number.NEGATIVE_INFINITY};s.Emitter.prototype._onRemove=function(){this.particlesPerSecond=0,this.attributeOffset=0,this.activationIndex=0,this.activeParticleCount=0,this.group=null,this.attributes=null,this.paramsArray=null,this.age=0};s.Emitter.prototype._decrementParticleCount=function(){--this.activeParticleCount};s.Emitter.prototype._incrementParticleCount=function(){++this.activeParticleCount};s.Emitter.prototype._checkParticleAges=function(e,t,r,i){for(var a=t-1,o,n,l,u;a>=e;--a)o=a*4,u=r[o],u!==0&&(l=r[o+1],n=r[o+2],this.direction===1?(l+=i,l>=n&&(l=0,u=0,this._decrementParticleCount())):(l-=i,l<=0&&(l=n,u=0,this._decrementParticleCount())),r[o]=u,r[o+1]=l,this._updateAttributeUpdateRange("params",a))};s.Emitter.prototype._activateParticles=function(e,t,r,i){for(var a=this.direction,o=e,n,l;o<t;++o)n=o*4,!(r[n]!=0&&this.particleCount!==1)&&(this._incrementParticleCount(),r[n]=1,this._resetParticle(o),l=i*(o-e),r[n+1]=a===-1?r[n+2]-l:l,this._updateAttributeUpdateRange("params",o))};s.Emitter.prototype.tick=function(e){if(!this.isStatic){this.paramsArray===null&&(this.paramsArray=this.attributes.params.typedArray.array);var t=this.attributeOffset,r=t+this.particleCount,i=this.paramsArray,a=this.particlesPerSecond*this.activeMultiplier*e,o=this.activationIndex;if(this._resetBufferRanges(),this._checkParticleAges(t,r,i,e),this.alive===!1){this.age=0;return}if(this.duration!==null&&this.age>this.duration){this.alive=!1,this.age=0;return}var n=this.particleCount===1?o:o|0,l=Math.min(n+a,this.activationEnd),u=l-this.activationIndex|0,c=u>0?e/u:0;this._activateParticles(n,l,i,c),this.activationIndex+=a,this.activationIndex>r&&(this.activationIndex=t),this.age+=e}};s.Emitter.prototype.reset=function(e){if(this.age=0,this.alive=!1,e===!0){for(var t=this.attributeOffset,r=t+this.particleCount,i=this.paramsArray,a=this.attributes.params.bufferAttribute,o=r-1,n;o>=t;--o)n=o*4,i[n]=0,i[n+1]=0;a.updateRange.offset=0,a.updateRange.count=-1,a.needsUpdate=!0}return this};s.Emitter.prototype.enable=function(){return this.alive=!0,this};s.Emitter.prototype.disable=function(){return this.alive=!1,this};s.Emitter.prototype.remove=function(){return this.group!==null?this.group.removeEmitter(this):console.error("Emitter does not belong to a group, cannot remove."),this};const er="/vue-hash",rr=`
  varying vec3 vWorldPosition;
  void main() {
    vec4 worldPosition = modelMatrix * vec4( position, 1.0 );
    vWorldPosition = worldPosition.xyz;
    gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
  }
`,ir=`
  uniform vec3 topColor;
  uniform vec3 bottomColor;
  uniform float offset;
  uniform float exponent;
  varying vec3 vWorldPosition;
  void main() {
    float h = normalize( vWorldPosition + offset ).y;
    gl_FragColor = vec4( mix( bottomColor, topColor, max( pow( max( h, 0.0 ), exponent ), 0.0 ) ), 1.0 );
  }
`;class or{constructor(t){const r=new ee({color:16777215,size:.1,map:new _t().load("/micro-vue-static/lab-static/images/graph-london/snow.png"),transparent:!0,opacity:.8}),i=new bt,a=5e3,o=new Float32Array(a*3);for(let l=0;l<a*3;l++)o[l]=Math.random()*20-10;i.setAttribute("position",new it(o,3));const n=new Gt(i,r);t.add(n),this.update=function(l){n.geometry.attributes.position.array.forEach((u,c)=>{c%3===1&&(n.geometry.attributes.position.array[c]-=.01,n.geometry.attributes.position.array[c]<-10&&(n.geometry.attributes.position.array[c]=10))}),n.geometry.attributes.position.needsUpdate=!0}}}class ar{constructor(t){const r=new _t,i=new s.Group({texture:{value:r.load(er+"/micro-vue-static/lab-static/images/graph-london/smock.png")},blending:re,maxParticleCount:3e3,fog:!0}),a=new s.Emitter({maxAge:{value:28},position:{value:new _(-.35,1.25,0),spread:new _(.1,.05,.1)},size:{value:[.5,1,5],spread:[0,.1,.2]},acceleration:{value:new _(0,.002,0)},rotation:{axis:new _(0,-1,0),spread:new _(0,0,0),angle:720*Math.PI/180},velocity:{value:new _(.03,.06,.03),spread:new _(.025,.04,.025)},opacity:{value:[.2,.4,0]},color:{value:[new G(11184810),new G(16777215)],spread:[new _(0,0,.1),new _(0,0,0)]},particleCount:2500});i.addEmitter(a),t.add(i.mesh),this.emitter=a,this.particleGroup=i,this.stop=function(){a.enabled=!1,a.disable()},this.start=function(){a.enabled=!0,a.enable()},this.update=function(o){i&&i.tick(o)}}}class Ot{constructor(t){this.top=0,this.array=new Float32Array(t)}write(t){this.array[this.top++]=t.x,this.array[this.top++]=t.y,this.array[this.top++]=t.z}}class nr{constructor(t){this.top=0,this.array=new Float32Array(t)}write(t){this.array[this.top++]=t.x,this.array[this.top++]=t.y}}class K{constructor(t){this.plane=null,this.front=null,this.back=null,this.polygons=[],t&&this.build(t)}clone(){const t=new K;return t.plane=this.plane&&this.plane.clone(),t.front=this.front&&this.front.clone(),t.back=this.back&&this.back.clone(),t.polygons=this.polygons.map(r=>r.clone()),t}invert(){for(let r=0;r<this.polygons.length;r++)this.polygons[r].flip();this.plane&&this.plane.flip(),this.front&&this.front.invert(),this.back&&this.back.invert();const t=this.front;this.front=this.back,this.back=t}clipPolygons(t){if(!this.plane)return t.slice();let r=new Array,i=new Array;for(let a=0;a<t.length;a++)this.plane.splitPolygon(t[a],r,i,r,i);return this.front&&(r=this.front.clipPolygons(r)),this.back?i=this.back.clipPolygons(i):i=[],r.concat(i)}clipTo(t){this.polygons=t.clipPolygons(this.polygons),this.front&&this.front.clipTo(t),this.back&&this.back.clipTo(t)}allPolygons(){let t=this.polygons.slice();return this.front&&(t=t.concat(this.front.allPolygons())),this.back&&(t=t.concat(this.back.allPolygons())),t}build(t){if(!t.length)return;this.plane||(this.plane=t[0].plane.clone());const r=[],i=[];for(let a=0;a<t.length;a++)this.plane.splitPolygon(t[a],this.polygons,this.polygons,r,i);r.length&&(this.front||(this.front=new K),this.front.build(r)),i.length&&(this.back||(this.back=new K),this.back.build(i))}}class V{constructor(t=0,r=0,i=0){this.x=t,this.y=r,this.z=i}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this}clone(){return new V(this.x,this.y,this.z)}negate(){return this.x*=-1,this.y*=-1,this.z*=-1,this}add(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this}sub(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this}times(t){return this.x*=t,this.y*=t,this.z*=t,this}dividedBy(t){return this.x/=t,this.y/=t,this.z/=t,this}lerp(t,r){return this.add(new V().copy(t).sub(this).times(r))}unit(){return this.dividedBy(this.length())}length(){return Math.sqrt(Math.pow(this.x,2)+Math.pow(this.y,2)+Math.pow(this.z,2))}normalize(){return this.unit()}cross(t){const r=this.clone(),i=r.x,a=r.y,o=r.z,n=t.x,l=t.y,u=t.z;return this.x=a*u-o*l,this.y=o*n-i*u,this.z=i*l-a*n,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z}toVector3(){return new _(this.x,this.y,this.z)}}class ot{constructor(t,r){this.normal=t,this.w=r,this.normal=t,this.w=r}clone(){return new ot(this.normal.clone(),this.w)}flip(){this.normal.negate(),this.w=-this.w}splitPolygon(t,r,i,a,o){let m=0;const y=[];for(let d=0;d<t.vertices.length;d++){const h=this.normal.dot(t.vertices[d].pos)-this.w,p=h<-ot.EPSILON?2:h>ot.EPSILON?1:0;m|=p,y.push(p)}switch(m){case 0:(this.normal.dot(t.plane.normal)>0?r:i).push(t);break;case 1:a.push(t);break;case 2:o.push(t);break;case 3:{const d=[],h=[];for(let p=0;p<t.vertices.length;p++){const f=(p+1)%t.vertices.length,g=y[p],v=y[f],x=t.vertices[p],w=t.vertices[f];if(g!=2&&d.push(x),g!=1&&h.push(g!=2?x.clone():x),(g|v)==3){const O=(this.w-this.normal.dot(x.pos))/this.normal.dot(new V().copy(w.pos).sub(x.pos)),B=x.interpolate(w,O);d.push(B),h.push(B.clone())}}d.length>=3&&a.push(new st(d,t.shared)),h.length>=3&&o.push(new st(h,t.shared));break}}}static fromPoints(t,r,i){const a=new V().copy(r).sub(t).cross(new V().copy(i).sub(t)).normalize();return new ot(a.clone(),a.dot(t))}}ot.EPSILON=1e-5;class st{constructor(t,r){this.vertices=t,this.shared=r,this.plane=ot.fromPoints(t[0].pos,t[1].pos,t[2].pos)}clone(){return new st(this.vertices.map(t=>t.clone()),this.shared)}flip(){this.vertices.reverse().map(t=>t.flip()),this.plane.flip()}}class yt{constructor(t,r,i,a){this.pos=new V().copy(t),this.normal=new V().copy(r),this.uv=new V().copy(i),this.uv.z=0,a&&(this.color=new V().copy(a))}clone(){return new yt(this.pos,this.normal,this.uv,this.color)}flip(){this.normal.negate()}interpolate(t,r){return new yt(this.pos.clone().lerp(t.pos,r),this.normal.clone().lerp(t.normal,r),this.uv.clone().lerp(t.uv,r),this.color&&t.color&&this.color.clone().lerp(t.color,r))}}class I{constructor(){this.polygons=[]}static fromPolygons(t){const r=new I;return r.polygons=t,r}static fromGeometry(t,r){let i=[];const a=t.attributes.position,o=t.attributes.normal,n=t.attributes.uv,l=t.attributes.color,u=t.groups;let c;if(t.index)c=t.index.array;else{c=new Uint16Array(a.array.length/a.itemSize|0);for(let y=0;y<c.length;y++)c[y]=y}const m=c.length/3|0;i=new Array(m);for(let y=0,d=0,h=c.length;y<h;y+=3,d++){const p=new Array(3);for(let f=0;f<3;f++){const g=c[y+f],v=g*3,x=g*2,w=a.array[v],O=a.array[v+1],B=a.array[v+2],k=o.array[v],M=o.array[v+1],U=o.array[v+2],A=n==null?void 0:n.array[x],P=n==null?void 0:n.array[x+1];p[f]=new yt(new V(w,O,B),new V(k,M,U),new V(A,P,0),l&&new V(l.array[v],l.array[v+1],l.array[v+2]))}if(r===void 0&&u&&u.length>0)for(const f of u)y>=f.start&&y<f.start+f.count&&(i[d]=new st(p,f.materialIndex));else i[d]=new st(p,r)}return I.fromPolygons(i.filter(y=>!Number.isNaN(y.plane.normal.x)))}static toGeometry(t,r){let i=0;const a=t.polygons;for(const h of a)i+=h.vertices.length-2;const o=new bt,n=new Ot(i*3*3),l=new Ot(i*3*3),u=new nr(i*2*3);let c;const m=[],y=[];for(const h of a){const p=h.vertices,f=p.length;h.shared!==void 0&&(m[h.shared]||(m[h.shared]=[])),f&&p[0].color!==void 0&&(c||(c=new Ot(i*3*3)));for(let g=3;g<=f;g++)(h.shared===void 0?y:m[h.shared]).push(n.top/3,n.top/3+1,n.top/3+2),n.write(p[0].pos),n.write(p[g-2].pos),n.write(p[g-1].pos),l.write(p[0].normal),l.write(p[g-2].normal),l.write(p[g-1].normal),u&&(u.write(p[0].uv),u.write(p[g-2].uv),u.write(p[g-1].uv)),c&&(c.write(p[0].color),c.write(p[g-2].color),c.write(p[g-1].color))}o.setAttribute("position",new it(n.array,3)),o.setAttribute("normal",new it(l.array,3)),u&&o.setAttribute("uv",new it(u.array,2)),c&&o.setAttribute("color",new it(c.array,3));for(let h=0;h<m.length;h++)m[h]===void 0&&(m[h]=[]);if(m.length){let h=[],p=0;for(let f=0;f<m.length;f++)o.addGroup(p,m[f].length,f),p+=m[f].length,h=h.concat(m[f]);o.addGroup(p,y.length,m.length),h=h.concat(y),o.setIndex(h)}const d=new j().copy(r).invert();return o.applyMatrix4(d),o.computeBoundingSphere(),o.computeBoundingBox(),o}static fromMesh(t,r){const i=I.fromGeometry(t.geometry,r),a=new _,o=new ie;o.getNormalMatrix(t.matrix);for(let n=0;n<i.polygons.length;n++){const l=i.polygons[n];for(let u=0;u<l.vertices.length;u++){const c=l.vertices[u];c.pos.copy(a.copy(c.pos.toVector3()).applyMatrix4(t.matrix)),c.normal.copy(a.copy(c.normal.toVector3()).applyMatrix3(o))}}return i}static toMesh(t,r,i){const a=I.toGeometry(t,r),o=new L(a,i);return o.matrix.copy(r),o.matrix.decompose(o.position,o.quaternion,o.scale),o.rotation.setFromQuaternion(o.quaternion),o.updateMatrixWorld(),o.castShadow=o.receiveShadow=!0,o}static union(t,r){const i=I.fromMesh(t),a=I.fromMesh(r);return I.toMesh(i.union(a),t.matrix,t.material)}static subtract(t,r){const i=I.fromMesh(t),a=I.fromMesh(r);return I.toMesh(i.subtract(a),t.matrix,t.material)}static intersect(t,r){const i=I.fromMesh(t),a=I.fromMesh(r);return I.toMesh(i.intersect(a),t.matrix,t.material)}clone(){const t=new I;return t.polygons=this.polygons.map(r=>r.clone()).filter(r=>Number.isFinite(r.plane.w)),t}toPolygons(){return this.polygons}union(t){const r=new K(this.clone().polygons),i=new K(t.clone().polygons);return r.clipTo(i),i.clipTo(r),i.invert(),i.clipTo(r),i.invert(),r.build(i.allPolygons()),I.fromPolygons(r.allPolygons())}subtract(t){const r=new K(this.clone().polygons),i=new K(t.clone().polygons);return r.invert(),r.clipTo(i),i.clipTo(r),i.invert(),i.clipTo(r),i.invert(),r.build(i.allPolygons()),r.invert(),I.fromPolygons(r.allPolygons())}intersect(t){const r=new K(this.clone().polygons),i=new K(t.clone().polygons);return r.invert(),i.clipTo(r),i.invert(),r.clipTo(i),i.clipTo(r),r.build(i.allPolygons()),r.invert(),I.fromPolygons(r.allPolygons())}inverse(){const t=this.clone();for(const r of t.polygons)r.flip();return t}toMesh(t,r){return I.toMesh(this,t,r)}toGeometry(t){return I.toGeometry(this,t)}}const sr=e=>(lt("data-v-b5664519"),e=e(),ct(),e),lr={class:"chapter-item"},cr=sr(()=>N("h2",null,"Final Session",-1)),ur=Z({__name:"final-chapter",setup(e){const t="/vue-hash",r=X(null),i=X(null);at(()=>{b(),jt(),P(),U(),A(),k(),M(),h(),p(),B(),O(),F()});let a,o,n,l,u=0,c,m,y;const d=new he;function h(){const T=new oe,E=x();T.add(E);const C=v();T.add(C);const S=w();T.add(S);const R=f();T.add(R);const z=g(S,R);T.add(z),T.position.set(0,-.02,0),o.add(T)}function p(){const T=new et({color:16716049,wireframe:!1}),E=new Bt,C=T.clone();C.color.setHex(5964290);const S=new ht(.04,.04,.22,32,1,!1,0,Math.PI);S.applyMatrix4(new j().makeRotationZ(90*Math.PI/180)),S.applyMatrix4(new j().makeTranslation(0,.2,0));const R=new L(S,C),z=new q(.22,.04,.08);z.applyMatrix4(new j().makeTranslation(0,.18,0));const D=new L(z,C),H=T.clone();H.color.setHex(8874516);const ut=new ht(.02,.02,.16);ut.applyMatrix4(new j().makeTranslation(0,.08,0));const Ct=new L(ut,H);E.add(R),E.add(D),E.add(Ct),E.position.set(.3,0,-1),E.castShadow=!0,o.add(E)}function f(){const T=new q(.3,.5,.1);T.applyMatrix4(new j().makeTranslation(-.3,-.1,-.45));const E=new et({color:16716049,wireframe:!1}),C=E.clone();C.color.setHex(8874516);const S=new L(T,C),R=new ht(.02,.02,.01,16);R.applyMatrix4(new j().makeRotationX(Math.PI/2)),R.applyMatrix4(new j().makeTranslation(-.2,-.1,-.5));const z=E.clone();z.color.setHex(16777215);const D=new L(R,z),H=new Bt;return H.add(S),H.add(D),H.position.set(0,.4,0),H.castShadow=!0,H}function g(T,E){const C=new et({color:16716049,wireframe:!1}),S=new q(1,.8,1),R=new L(S,C);R.updateMatrix();const z=R.clone();z.scale.multiplyScalar(.9),z.updateMatrix();let D=I.subtract(R,z);D=I.subtract(D,T);for(const H of E.children)D=I.subtract(D,H);return D.position.set(0,.4,0),D}function v(){const T=new rt({color:16716049,wireframe:!1}),E=new q(.2,.4,.2),C=new L(E,T);C.material.color.setHex(14344422),C.position.set(-.35,1.05,0);const S=new ht(.08,.08,.1,8),R=new et({color:16716049,wireframe:!1}),z=new L(S,R);return z.material.color.setHex(2236962),z.position.set(0,.151,0),z.matrixAutoUpdate=!1,z.updateMatrix(),C.add(z),C}function x(){const T=new rt({color:16716049,wireframe:!1}),E=.25,C=new ht(0,E*3,E*3,4),S=new L(C,T.clone());return S.material.color.setHex(16777215),S.rotation.y=45*Math.PI/180,S.position.set(0,.8+.35,0),S.matrixAutoUpdate=!1,S.updateMatrix(),S}function w(){const T=new et({color:16716049,wireframe:!1}),E=new q(.2,.2,.06);E.applyMatrix4(new j().makeTranslation(.25,-0,-.48));const C=new L(E,T.clone());return C.material.color.setHex(16777215),C.material.transparent=!0,C.material.opacity=.4,C.position.set(0,.4,0),C}function O(){m=new or(o)}function B(){y=new ar(o)}function k(){const T=new q(10,.01,1),E=new q(.7,.01,.1),C=new rt({color:10596019}),S=new rt({color:14344422}),R=new L(T,C),z=6;for(let D=0;D<z;D++){const H=z/2,ut=E.clone(),Ct=new j().makeTranslation(D*1.7-H-1,.01,0);ut.applyMatrix4(Ct),R.add(new L(ut,S))}R.position.set(0,0,-2.5),o.add(R)}function M(){const E=new _t().load(t+"/micro-vue-static/lab-static/images/graph-london/inside-box-texture.jpg");c=new L(new q(.2,.1,.01),new et({map:E})),c.position.set(0,.3,-.1);let C=0;c.userData.update=function(S){C+=S,c.position.y=.3+Math.sin(C*2)/20,c.rotation.z=0+Math.cos(C)/2},o.add(c)}function U(){const T=new rt({color:15658734}),E=new wt(10,10,1,1),C=new L(E,T);C.rotation.x=-Math.PI/2,o.add(C),C.receiveShadow=!1;const S=new ae({opacity:.1}),R=new L(E,S);R.rotation.x=-Math.PI/2,R.receiveShadow=!0,R.position.y=.001,o.add(R)}function A(){const T=new ne(16777215,16777215,.6);T.color.setHSL(.6,1,.6),T.groundColor.setHSL(.095,.8,.5),T.position.set(0,5,0),o.add(T);const E=new Ut(16777215,1);E.color.setHSL(.6,.1,1),E.position.set(-1,1.75,-1),E.position.multiplyScalar(5),o.add(E),E.castShadow=!0;const C=new se(16777045,3);C.distance=1.5,C.position.set(0,.4,0),o.add(C)}function P(){const T={topColor:{value:new G(11189247)},bottomColor:{value:new G(16777215)},offset:{value:50},exponent:{value:.6}},E=new At({uniforms:T,vertexShader:rr,fragmentShader:ir,side:le}),C=new Lt(400,32,15),S=new L(C,E);o.add(S),o.fog=new ce(E.uniforms.bottomColor.value,1,15)}function b(){a=new tr,r.value.appendChild(a.dom)}function F(){$(),requestAnimationFrame(F)}function $(){a.update(),u=d.getDelta(),c.userData.update(u),m.update(),y.update(),n.render(o,l)}function jt(){o=new vt,n=new xt({antialias:!0}),n.setPixelRatio(window.devicePixelRatio),n.setSize(400,400),n.shadowMap.enabled=!0,n.shadowMap.type=ue,i.value.appendChild(n.domElement),l=new gt(60,400/400,.1,500),l.position.set(-2,1,-4);const T=new Dt(l,n.domElement);T.mouseButtons={LEFT:Et.RIGHT,MIDDLE:Et.MIDDLE,RIGHT:Et.LEFT},T.update()}return(T,E)=>(J(),Q("div",lr,[cr,N("div",{class:"canvas",ref_key:"finalRef",ref:i},[N("div",{ref_key:"statsRef",ref:r,class:"stats-box"},null,512)],512)]))}}),hr=nt(ur,[["__scopeId","data-v-b5664519"]]),pr={class:"graph-london"},dr=Z({__name:"index",setup(e){return(t,r)=>(J(),Q("div",pr,[tt(ve),tt(Te),tt(Ne),tt(De),tt(Ke),tt(Je),tt(hr)]))}}),yr=nt(dr,[["__scopeId","data-v-98bb7e4b"]]);export{yr as default};
