import{d as N,u as V,a as j,b as Q,r as w,c as I,o as b,e as h,f as t,g as o,t as q,w as A,h as f,i as D,j as s,F as E,k as G,l as M,m as d,n as z,p as H,q as c,s as J,_ as O}from"./index-CnwkVNSk.js";import{B as P}from"./blog-item-ClQO8d_D.js";import{c as W}from"./index-BxwwzUC8.js";const X={class:"home"},Y={class:"welcome shadow"},Z={class:"bg"},$={class:"welcome_text"},ee={class:"footer"},te={class:"name"},oe={class:"side shadow"},se={class:"header"},ne={class:"search"},le={class:"transition"},ae={class:"body"},ie={class:"logo"},re=["src"],de={class:"footer"},ce={class:"blog-list"},ue={class:"mobile-search"},pe={class:"mobile-input"},me=N({__name:"index",setup(_e){const R=V(),T=j(),U=Q(),k=w([]),C=z(),x=M(),g=I(()=>R.getConfig),S=I(()=>U.getUserInfo),B=w(x.query.searchText||""),i=w(x.query.searchText||"");function u(){const l=i.value||void 0;C.replace({name:"blog",query:{searchText:l}}),B.value=l||"",L()}function F({key:l}={key:""}){C.push({name:l})}async function K(){const{toClipboard:l}=W(),e=window.document.location.href;await l(e),J.success("网址已复制到剪切板")}L();function L(){const e=T.getBlogs.filter(p=>{const{title:m,category:a,tags:_,summary:v,content:y}=p;let n=i.value;return n=n.trim().toLowerCase(),n?m.toLowerCase().includes(n)||a.toLowerCase().includes(n)||_.toLowerCase().includes(n)||v.toLowerCase().includes(n)||y.toLowerCase().includes(n):!0});k.value=e}return(l,e)=>{const p=d("Image"),m=d("a-input"),a=d("a-menu-item"),_=d("a-menu"),v=d("a-dropdown"),y=d("a-button"),n=H("focus");return b(),h("div",X,[t("header",null,[t("div",Y,[t("div",Z,[o(p,{style:{height:"100%"},fit:"cover",src:g.value.welcome},null,8,["src"]),t("div",$,q(g.value.welcome_text),1)]),t("div",ee,[o(p,{fit:"cover",class:"round avatar",src:S.value.avatar},null,8,["src"]),t("span",te,q(S.value.nickname),1)])]),t("div",oe,[t("div",se,[t("div",ne,[t("div",le,[A(o(m,{value:i.value,"onUpdate:value":e[0]||(e[0]=r=>i.value=r),style:{"border-radius":"0"},type:"text",onClick:e[1]||(e[1]=f(()=>{},["stop"])),onKeyup:D(u,["enter"]),placeholder:"输入关键字搜索"},null,8,["value"]),[[n]])]),t("i",{class:"iconfont shadow",onClick:f(u,["stop"])},"")])]),t("div",ae,[t("div",ie,[t("img",{src:g.value.logo,alt:""},null,8,re)])]),t("div",de,[e[11]||(e[11]=t("div",null,[t("strong",{class:"name"},"导航与分享→")],-1)),t("div",null,[o(v,{trigger:["click"],placement:"bottomRight"},{overlay:s(()=>[o(_,{onClick:F,style:{width:"96px"}},{default:s(()=>[o(a,{key:"blog-timeline"},{default:s(()=>e[4]||(e[4]=[c("时间轴")])),_:1}),o(a,{key:"blog-gallery"},{default:s(()=>e[5]||(e[5]=[c("图库")])),_:1}),o(a,{key:"blog-project"},{default:s(()=>e[6]||(e[6]=[c("项目")])),_:1})]),_:1})]),default:s(()=>[e[7]||(e[7]=t("i",{class:"iconfont round-icon-btn"},"",-1))]),_:1}),o(v,{trigger:["click"],placement:"bottomRight"},{overlay:s(()=>[o(_,{onClick:K,style:{width:"105px"}},{default:s(()=>[o(a,{key:"blog-timeline"},{default:s(()=>e[8]||(e[8]=[c("分享到QQ")])),_:1}),o(a,{key:"blog-gallery"},{default:s(()=>e[9]||(e[9]=[c("分享到微信")])),_:1})]),_:1})]),default:s(()=>[e[10]||(e[10]=t("i",{class:"iconfont round-icon-btn"},"",-1))]),_:1})])])])]),t("section",ce,[(b(!0),h(E,null,G(k.value,r=>(b(),h("div",{key:r.id},[o(P,{keywords:{search:B.value},blog:r},null,8,["keywords","blog"])]))),128))]),t("div",ue,[t("div",pe,[o(m,{value:i.value,"onUpdate:value":e[2]||(e[2]=r=>i.value=r),type:"text",onClick:e[3]||(e[3]=f(()=>{},["stop"])),onKeyup:D(u,["enter"]),placeholder:"输入关键字搜索"},null,8,["value"])]),o(y,{type:"primary",onClick:f(u,["stop"])},{default:s(()=>e[12]||(e[12]=[t("i",{class:"iconfont"},"",-1)])),_:1})])])}}}),ye=O(me,[["__scopeId","data-v-facfb429"]]);export{ye as default};
