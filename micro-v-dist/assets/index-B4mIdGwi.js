import{d as N,G as D,r as k,c as V,x as C,o as p,e as m,f as i,F as h,k as w,g as b,j as n,m as x,v as o,p as G,n as S,_ as y}from"./index-B7RwLVET.js";const A=f=>(G("data-v-a3385333"),f=f(),S(),f),B={class:"image"},M={class:"viewer"},F={class:"viewer-wrap"},z=A(()=>i("div",{class:"tips"},[i("p",null,"使用鼠标右键进行标记"),i("p",null,"点击边框可以进入编辑模式，拖动边框可以调整大小，拖动中心点可以移动位置")],-1)),T={class:"preview"},q=N({__name:"index",setup(f){const g=[{title:"title",desc:"desc",url:"http://iph.href.lu/800x540"},{title:"title",desc:"desc",url:"https://fuss10.elemecdn.com/8/27/f01c15bb73e1ef3793e64e6b7bbccjpeg.jpeg"},{title:"title",desc:"desc",url:"https://fuss10.elemecdn.com/1/8e/aeffeb4de74e2fde4bd74fc7b4486jpeg.jpeg"},{title:"title",desc:"desc",url:""}],v=D([{title:"title",desc:"desc",url:"https://fuss10.elemecdn.com/1/34/19aa98b1fcb2781c4fba33d850549jpeg.jpeg",thumbnail:"https://fuss10.elemecdn.com/1/34/19aa98b1fcb2781c4fba33d850549jpeg.jpeg",marks:[]},{title:"title",desc:"desc",url:"https://fuss10.elemecdn.com/8/27/f01c15bb73e1ef3793e64e6b7bbccjpeg.jpeg",thumbnail:"https://fuss10.elemecdn.com/8/27/f01c15bb73e1ef3793e64e6b7bbccjpeg.jpeg",marks:[{width:220,height:220,left:470,top:230},{height:80,left:746,top:301,width:113}]},{title:"title",desc:"desc",url:"https://fuss10.elemecdn.com/3/28/bbf893f792f03a54408b3b7a7ebf0jpeg.jpeg",thumbnail:"https://fuss10.elemecdn.com/3/28/bbf893f792f03a54408b3b7a7ebf0jpeg.jpeg",marks:[{left:321,top:215,width:68,height:65},{left:87,top:314,width:154,height:121}]},{title:"title",desc:"desc",url:"",thumbnail:"",marks:[]}]),u=k(2),e=V(()=>v[u.value]),j=k(null);C.info("使用鼠标右键标记图片");function I(t){u.value=t}function R(t){const{target:c,detail:s}=t,{left:r,top:a,width:l,height:L}=s,d={...c};d.left=r,d.top=a,d.width=l,d.height=L;const _=e.value.marks.indexOf(c);_>-1&&e.value.marks.splice(_,1,d)}function O(t){const{target:c}=t,s=e.value.marks.indexOf(c);s>-1&&e.value.marks.splice(s,1)}function E(t){const{left:c,top:s,width:r,height:a}=t;e.value.marks||(e.value.marks=[]);const l={id:e.value.marks.length+1+"",left:c,top:s,width:r,height:a};e.value.marks.unshift(l)}return(t,c)=>{const s=x("Image"),r=x("Viewer");return p(),m(h,null,[i("div",B,[(p(),m(h,null,w(g,(a,l)=>i("div",{class:"item",key:a.url},[b(s,{src:a.url,preview:"",images:g,hideOnClickModal:"",fit:"contain",initialIndex:l,class:"image-item"},{footer:n(()=>[o("footer")]),loading:n(()=>[o("LOADING")]),error:n(()=>[o("ERROR")]),_:2},1032,["src","initialIndex"])])),64))]),i("div",M,[i("div",F,[b(r,{ref_key:"viewerRef",ref:j,imageList:v,navigation:"",toolbar:"",drawable:"",deleteable:"",scaleMin:.9,onDrawEnd:E,onResize:R,onDelete:O,onSwitch:I,initialIndex:u.value},{loading:n(()=>[o("LOADING")]),error:n(()=>[o("ERROR")]),_:1},8,["imageList","initialIndex"]),z]),i("div",T,[(p(!0),m(h,null,w(e.value.marks,(a,l)=>(p(),m("div",{class:"item",key:l},[b(r,{image:e.value,mark:a,focus:""},{loading:n(()=>[o("LOADING")]),error:n(()=>[o("ERROR")]),_:2},1032,["image","mark"])]))),128))])])],64)}}}),J=y(q,[["__scopeId","data-v-a3385333"]]);export{J as default};
