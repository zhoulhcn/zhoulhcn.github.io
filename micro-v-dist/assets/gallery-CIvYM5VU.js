import{d as I,z as x,c as B,r as N,o as a,e as r,F as b,k as q,f as o,g as _,A as w,l as P,m as c,n as V,j as m,h as z,t as i,B as F,x as M,C as R,_ as S}from"./index-CnwkVNSk.js";const A={class:"gallery"},D={key:0,class:"imgs"},E={class:"footer"},G={class:"theme-color"},L={class:"desc"},O={key:1,class:"empty"},U={class:"left-tools"},$=I({__name:"gallery",setup(H){const f=x().map(e=>({label:e.title,value:e.id})),l=B(()=>{const e=R();return n.value?e.filter(s=>s.projectId===n.value):e}),u=V(),d=P(),p=d.query.projectId,v=p?String(p):null,n=N(v);function g(e){u.push({name:"blog-project",query:{id:e.projectId}})}function j(e){e!==d.query.projectId&&u.push({name:"blog-gallery",query:{projectId:e}})}return(e,s)=>{const y=c("a-popconfirm"),h=c("Image"),k=c("a-select");return a(),r("div",A,[l.value.length?(a(),r("div",D,[(a(!0),r(b,null,q(l.value,(t,C)=>(a(),r("div",{class:"item",key:t.url},[_(h,{class:"img",fit:"cover",hideOnClickModal:"",images:l.value,src:t.url,initialIndex:C,preview:"",loop:"",lazy:"",bgColor:"#242629"},{footer:m(()=>[o("div",E,[o("div",{class:"title",onClick:s[0]||(s[0]=z(()=>{},["stop"]))},[o("span",null,i(t.title),1),t.projectId&&t.projectName?(a(),F(y,{key:0,title:"确定跳转到项目页面?","ok-text":"是","cancel-text":"否",onConfirm:J=>g(t)},{default:m(()=>[o("span",G," 【"+i(t.projectName)+"】 ",1)]),_:2},1032,["onConfirm"])):M("",!0)]),o("div",L,i(t.remark),1)])]),_:2},1032,["images","src","initialIndex"])]))),128))])):(a(),r("div",O,"图库为空")),o("footer",null,[o("div",U,[_(k,{onChange:j,value:n.value,"onUpdate:value":s[1]||(s[1]=t=>n.value=t),placeholder:"项目过滤",allowClear:!0,options:w(f)},null,8,["value","options"])])])])}}}),Q=S($,[["__scopeId","data-v-45a60544"]]);export{Q as default};
