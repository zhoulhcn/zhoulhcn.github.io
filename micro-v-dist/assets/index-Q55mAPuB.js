import{d as E,D as L,r as k,c as N,s as V,o as f,e as m,f as n,F as p,k as w,g as b,j as o,m as j,q as r,_ as C}from"./index-Cvl347pw.js";const y={class:"image"},A={class:"viewer"},B={class:"viewer-wrap"},G={class:"preview"},M=E({__name:"index",setup(F){const g=[{title:"title",desc:"desc",url:"http://iph.href.lu/800x540"},{title:"title",desc:"desc",url:"https://fuss10.elemecdn.com/8/27/f01c15bb73e1ef3793e64e6b7bbccjpeg.jpeg"},{title:"title",desc:"desc",url:"https://fuss10.elemecdn.com/1/8e/aeffeb4de74e2fde4bd74fc7b4486jpeg.jpeg"},{title:"title",desc:"desc",url:""}],v=L([{title:"title",desc:"desc",url:"https://fuss10.elemecdn.com/1/34/19aa98b1fcb2781c4fba33d850549jpeg.jpeg",thumbnail:"https://fuss10.elemecdn.com/1/34/19aa98b1fcb2781c4fba33d850549jpeg.jpeg",marks:[]},{title:"title",desc:"desc",url:"https://fuss10.elemecdn.com/8/27/f01c15bb73e1ef3793e64e6b7bbccjpeg.jpeg",thumbnail:"https://fuss10.elemecdn.com/8/27/f01c15bb73e1ef3793e64e6b7bbccjpeg.jpeg",marks:[{width:220,height:220,left:470,top:230},{height:80,left:746,top:301,width:113}]},{title:"title",desc:"desc",url:"https://fuss10.elemecdn.com/3/28/bbf893f792f03a54408b3b7a7ebf0jpeg.jpeg",thumbnail:"https://fuss10.elemecdn.com/3/28/bbf893f792f03a54408b3b7a7ebf0jpeg.jpeg",marks:[{left:321,top:215,width:68,height:65},{left:87,top:314,width:154,height:121}]},{title:"title",desc:"desc",url:"",thumbnail:"",marks:[]}]),u=k(2),t=N(()=>v[u.value]),x=k(null);V.info("使用鼠标右键标记图片");function _(s){u.value=s}function R(s){const{target:e,detail:i}=s,{left:d,top:l,width:a,height:D}=i,c={...e};c.left=d,c.top=l,c.width=a,c.height=D;const h=t.value.marks.indexOf(e);h>-1&&t.value.marks.splice(h,1,c)}function I(s){const{target:e}=s,i=t.value.marks.indexOf(e);i>-1&&t.value.marks.splice(i,1)}function O(s){const{left:e,top:i,width:d,height:l}=s;t.value.marks||(t.value.marks=[]);const a={id:t.value.marks.length+1+"",left:e,top:i,width:d,height:l};t.value.marks.unshift(a)}return(s,e)=>{const i=j("Image"),d=j("Viewer");return f(),m(p,null,[n("div",y,[(f(),m(p,null,w(g,(l,a)=>n("div",{class:"item",key:l.url},[b(i,{src:l.url,preview:"",images:g,hideOnClickModal:"",fit:"contain",initialIndex:a,class:"image-item"},{footer:o(()=>e[0]||(e[0]=[r("footer")])),loading:o(()=>e[1]||(e[1]=[r("LOADING")])),error:o(()=>e[2]||(e[2]=[r("ERROR")])),_:2},1032,["src","initialIndex"])])),64))]),n("div",A,[n("div",B,[b(d,{ref_key:"viewerRef",ref:x,imageList:v,navigation:"",toolbar:"",drawable:"",deleteable:"",scaleMin:.9,onDrawEnd:O,onResize:R,onDelete:I,onSwitch:_,initialIndex:u.value},{loading:o(()=>e[3]||(e[3]=[r("LOADING")])),error:o(()=>e[4]||(e[4]=[r("ERROR")])),_:1},8,["imageList","initialIndex"]),e[5]||(e[5]=n("div",{class:"tips"},[n("p",null,"使用鼠标右键进行标记"),n("p",null,"点击边框可以进入编辑模式，拖动边框可以调整大小，拖动中心点可以移动位置")],-1))]),n("div",G,[(f(!0),m(p,null,w(t.value.marks,(l,a)=>(f(),m("div",{class:"item",key:a},[b(d,{image:t.value,mark:l,focus:""},{loading:o(()=>e[6]||(e[6]=[r("LOADING")])),error:o(()=>e[7]||(e[7]=[r("ERROR")])),_:2},1032,["image","mark"])]))),128))])])],64)}}}),z=C(M,[["__scopeId","data-v-4f165955"]]);export{z as default};
