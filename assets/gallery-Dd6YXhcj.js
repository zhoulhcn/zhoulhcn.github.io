import{d as k,B as x,c as b,r as B,e as c,o as a,g as l,F as N,n as q,h as s,i as _,C as w,p as P,x as V,l as m,j as z,t as i,D,z as E,E as F,_ as M}from"./index-B_Lu1Zzc.js";const R={class:"gallery"},S={key:0,class:"imgs"},G={class:"footer"},L={class:"theme-color"},O={class:"desc"},U={key:1,class:"empty"},$={class:"left-tools"},A=k({__name:"gallery",setup(H){const v=x().map(e=>({label:e.title,value:e.id})),n=b(()=>{const e=F();return r.value?e.filter(t=>(console.log("sefc",t.projectId,r.value),t.projectId===r.value)):e}),u=V(),d=P(),p=d.query.projectId,f=p?String(p):null,r=B(f);function g(e){u.push({name:"blog-project",query:{id:e.projectId}})}function j(e){e!==d.query.projectId&&u.push({name:"blog-gallery",query:{projectId:e}})}return(e,t)=>{const y=c("a-popconfirm"),h=c("Image"),I=c("a-select");return a(),l("div",R,[n.value.length?(a(),l("div",S,[(a(!0),l(N,null,q(n.value,(o,C)=>(a(),l("div",{class:"item",key:o.url},[_(h,{class:"img",fit:"cover",hideOnClickModal:"",images:n.value,src:o.url,initialIndex:C,preview:"",loop:"",lazy:"",bgColor:"#242629"},{footer:m(()=>[s("div",G,[s("div",{class:"title",onClick:t[0]||(t[0]=z(()=>{},["stop"]))},[s("span",null,i(o.title),1),o.projectId&&o.projectName?(a(),D(y,{key:0,title:"确定跳转到项目页面?","ok-text":"是","cancel-text":"否",onConfirm:J=>g(o)},{default:m(()=>[s("span",L," 【"+i(o.projectName)+"】 ",1)]),_:2},1032,["onConfirm"])):E("",!0)]),s("div",O,i(o.remark),1)])]),_:2},1032,["images","src","initialIndex"])]))),128))])):(a(),l("div",U,"图库为空")),s("footer",null,[s("div",$,[_(I,{onChange:j,value:r.value,"onUpdate:value":t[1]||(t[1]=o=>r.value=o),placeholder:"项目过滤",allowClear:!0,options:w(v)},null,8,["value","options"])])])])}}}),Q=M(A,[["__scopeId","data-v-e2b849a5"]]);export{Q as default};
